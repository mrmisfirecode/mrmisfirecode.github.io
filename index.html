<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Enjoy a totally normal non-subversive game of play money Poker. Nothing weird going on here, no Ma'am.">
    <meta name="author" content="Callum West">
    <meta property="og:title" content="" />
    <meta property="og:description" content="" />
    <meta property="og:url" content="" />
    <meta property="og:image" content="" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:image" content=""/>
    <meta name="twitter:title" content=""/>
    <meta name="twitter:description" content=""/>
    <meta name="twitter:url" content=""/>
    <title>TotallyNormalPoker</title>
    <script language="JavaScript">

        //Totally Normal Poker v1.0 - Callum West © 2022
        
        //I went into this project with a very dumb idea and absolutely no clue how to write code for evaluating poker hands. I've come out with a very dumb game and code that can kinda evaluate poker hands most of the time. It's actually been very fun to write and test, even if the hand calculation code was a pain to debug at times due to my lack of annotation. Hope you enjoy!

        //###############################################
        //Test hands for testing purposes
        
        const testRiver = [
        {Name:"3 of Clubs",PairValue:"3",PairAlt:null,PairRank:3,RankValue:3,RankAlt:null,Suit:"Clubs",Colour:"Black",Type:"playing"},
        {Name:"4 of Clubs",PairValue:"4",PairAlt:null,PairRank:4,RankValue:4,RankAlt:null,Suit:"Clubs",Colour:"Black",Type:"playing"},
        {Name:"5 of Clubs",PairValue:"5",PairAlt:null,PairRank:5,RankValue:5,RankAlt:null,Suit:"Clubs",Colour:"Black",Type:"playing"},
        {Name:"6 of Clubs",PairValue:"6",PairAlt:null,PairRank:6,RankValue:6,RankAlt:null,Suit:"Clubs",Colour:"Black",Type:"playing"},
        {Name:"10 of Spades",PairValue:"10",PairAlt:null,PairRank:10,RankValue:10,RankAlt:null,Suit:"Spades",Colour:"Black",Type:"playing"}
        ];

        const testPlayer = [
        {Name:"7 of Clubs",PairValue:"7",PairAlt:null,PairRank:7,RankValue:7,RankAlt:null,Suit:"Clubs",Colour:"Black",Type:"playing"},
        {Name:"Red Skip",PairValue:"Skip",PairAlt:null,PairRank:0,RankValue:-100,RankAlt:null,Suit:"Red",Colour:"Red",Type:"uno"}
        ];

        const testOpp = [
        {Name:"7 of Hearts",PairValue:"7",PairAlt:null,PairRank:7,RankValue:7,RankAlt:null,Suit:"Hearts",Colour:"Red",Type:"playing"},
        {Name:"9 of Diamonds",PairValue:"9",PairAlt:null,PairRank:9,RankValue:9,RankAlt:null,Suit:"Diamonds",Colour:"Red",Type:"playing"}
        ];

        //###############################################

        //Values for card generation
        
        const playingSuits = ["Spades", "Diamonds", "Clubs", "Hearts"];
        const playingValues = ["2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"];

        const unoColours = ["Red", "Blue", "Green", "Yellow"];
        const unoValues = ["1", "2", "3", "4", "5", "6", "7", "8", "9"];

        const tarotNames = ["The Fool", "The Magician", "The High Priestess", "The Empress", "The Emperor", "The Hierophant", "The Lovers", "The Chariot", "Justice", "The Hermit", "Wheel of Fortune", "Strength", "The Hanged Man", "Death", "Temperance", "The Devil", "The Tower", "The Star", "The Moon", "The Sun", "Judgement", "The World"];

        const tarotValues = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21"];

        //Full Hanafuda deck 
        
        const hanafuda = [
            {Name: "Pine (Crane)", PairValue: "Pine", PairAlt: null, PairRank: 15, RankValue: 20, RankAlt: null, Suit: "January", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Pine (Poetry Ribbon)", PairValue: "Pine", PairAlt: null, PairRank: 15, RankValue: 10, RankAlt: null, Suit: "January", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Pine", PairValue: "Pine", PairAlt: null, PairRank: 15, RankValue: -100, RankAlt: null, Suit: "January", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Pine", PairValue: "Pine", PairAlt: null, PairRank: 15, RankValue: -100, RankAlt: null, Suit: "January", Colour: "Hanafuda", Type: "hanafuda"},

            {Name: "Plum Blossom (Bush Warbler)", PairValue: "Plum Blossom", PairAlt: null, PairRank: 16, RankValue: 5, RankAlt: null, Suit: "February", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Plum Blossom (Poetry Ribbon)", PairValue: "Plum Blossom", PairAlt: null, PairRank: 16, RankValue: 10, RankAlt: null, Suit: "February", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Plum Blossom", PairValue: "Plum Blossom", PairAlt: null, PairRank: 16, RankValue: -100, RankAlt: null, Suit: "February", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Plum Blossom", PairValue: "Plum Blossom", PairAlt: null, PairRank: 16, RankValue: -100, RankAlt: null, Suit: "February", Colour: "Hanafuda", Type: "hanafuda"},

            {Name: "Cherry Blossom (Curtain)", PairValue: "Cherry Blossom", PairAlt: null, PairRank: 17, RankValue: 20, RankAlt: null, Suit: "March", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Cherry Blossom (Poetry Ribbon)", PairValue: "Cherry Blossom", PairAlt: null, PairRank: 17, RankValue: 10, RankAlt: null, Suit: "March", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Cherry Blossom", PairValue: "Cherry Blossom", PairAlt: null, PairRank: 17, RankValue: -100, RankAlt: null, Suit: "March", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Cherry Blossom", PairValue: "Cherry Blossom", PairAlt: null, PairRank: 17, RankValue: -100, RankAlt: null, Suit: "March", Colour: "Hanafuda", Type: "hanafuda"},

            {Name: "Wisteria (Cuckoo)", PairValue: "Wisteria", PairAlt: null, PairRank: 18, RankValue: 5, RankAlt: null, Suit: "April", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Wisteria (Red Ribbon)", PairValue: "Wisteria", PairAlt: null, PairRank: 18, RankValue: 10, RankAlt: null, Suit: "April", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Wisteria", PairValue: "Wisteria", PairAlt: null, PairRank: 18, RankValue: -100, RankAlt: null, Suit: "April", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Wisteria", PairValue: "Wisteria", PairAlt: null, PairRank: 18, RankValue: -100, RankAlt: null, Suit: "April", Colour: "Hanafuda", Type: "hanafuda"},

            {Name: "Iris (Bridge)", PairValue: "Iris", PairAlt: null, PairRank: 19, RankValue: 5, RankAlt: null, Suit: "May", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Iris (Red Ribbon)", PairValue: "Iris", PairAlt: null, PairRank: 19, RankValue: 10, RankAlt: null, Suit: "May", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Iris", PairValue: "Iris", PairAlt: null, PairRank: 19, RankValue: -100, RankAlt: null, Suit: "May", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Iris", PairValue: "Iris", PairAlt: null, PairRank: 19, RankValue: -100, RankAlt: null, Suit: "May", Colour: "Hanafuda", Type: "hanafuda"},

            {Name: "Peony (Butterfly)", PairValue: "Peony", PairAlt: null, PairRank: 20, RankValue: 5, RankAlt: null, Suit: "June", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Peony (Blue Ribbon)", PairValue: "Peony", PairAlt: null, PairRank: 20, RankValue: 10, RankAlt: null, Suit: "June", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Peony", PairValue: "Peony", PairAlt: null, PairRank: 20, RankValue: -100, RankAlt: null, Suit: "June", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Peony", PairValue: "Peony", PairAlt: null, PairRank: 20, RankValue: -100, RankAlt: null, Suit: "June", Colour: "Hanafuda", Type: "hanafuda"},

            {Name: "Bush Clover (Boar)", PairValue: "Bush Clover", PairAlt: null, PairRank: 21, RankValue: 5, RankAlt: null, Suit: "July", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Bush Clover (Red Ribbon)", PairValue: "Bush Clover", PairAlt: null, PairRank: 21, RankValue: 10, RankAlt: null, Suit: "July", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Bush Clover", PairValue: "Bush Clover", PairAlt: null, PairRank: 21, RankValue: -100, RankAlt: null, Suit: "July", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Bush Clover", PairValue: "Bush Clover", PairAlt: null, PairRank: 21, RankValue: -100, RankAlt: null, Suit: "July", Colour: "Hanafuda", Type: "hanafuda"},

            {Name: "Susuki Grass (Full Moon)", PairValue: "Susuki Grass", PairAlt: null, PairRank: 22, RankValue: 20, RankAlt: null, Suit: "August", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Susuki Grass (Geese)", PairValue: "Susuki Grass", PairAlt: null, PairRank: 22, RankValue: 5, RankAlt: null, Suit: "August", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Susuki Grass", PairValue: "Susuki Grass", PairAlt: null, PairRank: 22, RankValue: -100, RankAlt: null, Suit: "August", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Susuki Grass", PairValue: "Susuki Grass", PairAlt: null, PairRank: 22, RankValue: -100, RankAlt: null, Suit: "August", Colour: "Hanafuda", Type: "hanafuda"},

            {Name: "Chrysanthemum (Sake Cup)", PairValue: "Chrysanthemum", PairAlt: null, PairRank: 23, RankValue: 5, RankAlt: null, Suit: "September", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Chrysanthemum (Blue Ribbon)", PairValue: "Chrysanthemum", PairAlt: null, PairRank: 23, RankValue: 10, RankAlt: null, Suit: "September", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Chrysanthemum", PairValue: "Chrysanthemum", PairAlt: null, PairRank: 23, RankValue: -100, RankAlt: null, Suit: "September", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Chrysanthemum", PairValue: "Chrysanthemum", PairAlt: null, PairRank: 23, RankValue: -100, RankAlt: null, Suit: "September", Colour: "Hanafuda", Type: "hanafuda"},

            {Name: "Maple (Deer)", PairValue: "Maple", PairAlt: null, PairRank: 24, RankValue: 5, RankAlt: null, Suit: "October", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Maple (Blue Ribbon)", PairValue: "Maple", PairAlt: null, PairRank: 24, RankValue: 10, RankAlt: null, Suit: "October", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Maple", PairValue: "Maple", PairAlt: null, PairRank: 24, RankValue: -100, RankAlt: null, Suit: "October", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Maple", PairValue: "Maple", PairAlt: null, PairRank: 24, RankValue: -100, RankAlt: null, Suit: "October", Colour: "Hanafuda", Type: "hanafuda"},

            {Name: "Willow (Rain Man)", PairValue: "Willow", PairAlt: null, PairRank: 25, RankValue: 20, RankAlt: null, Suit: "November", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Willow (Swallow)", PairValue: "Willow", PairAlt: null, PairRank: 25, RankValue: 5, RankAlt: null, Suit: "November", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Willow (Red Ribbon)", PairValue: "Willow", PairAlt: null, PairRank: 25, RankValue: 10, RankAlt: null, Suit: "November", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Willow (Lightning Storm)", PairValue: "Willow", PairAlt: "A", PairRank: 25, RankValue: "Wild", RankAlt: null, Suit: "November", Colour: "Hanafuda", Type: "hanafuda"},

            {Name: "Paulownia (Chinese Phoenix)", PairValue: "Paulownia", PairAlt: null, PairRank: 26, RankValue: 20, RankAlt: null, Suit: "December", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Yellow Paulownia", PairValue: "Paulownia", PairAlt: null, PairRank: 26, RankValue: 10, RankAlt: null, Suit: "December", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Paulownia", PairValue: "Paulownia", PairAlt: null, PairRank: 26, RankValue: -100, RankAlt: null, Suit: "December", Colour: "Hanafuda", Type: "hanafuda"},
            {Name: "Paulownia", PairValue: "Paulownia", PairAlt: null, PairRank: 26, RankValue: -100, RankAlt: null, Suit: "December", Colour: "Hanafuda", Type: "hanafuda"}
        ];

        //Names of hand types to be reported in compareHands()
        
        const handValues = ["", "High card", "One Pair", "Two Pair", "Three of a Kind", "Straight", "Flush", "Full House", "Four of a Kind", "Straight Flush", "5 of a Kind"];
        
        //Dialogue
        
        const dialogueStart = [
            "Fancy a game?",
            "Quit stallin' and start playin'",
            "Wanna play some cards?",
            "Come take a seat at this table, friend",
            "Anyone for a game of Poker?",
            "What's a guy got to do to get a Poker opponent around here?",
            "Feelin' lucky, punk?",
            "Today your lucky day?",
            "Come on and play already!",
            "Let's play a friendly game of Poker",
            "What's your game?",
            "Can I interest you in a game of cards?",
            "Come play, I'm getting lonely over here"
        ];

        const dialogueDealNew = [
            "Alright, let's get this thing going",
            "We got ourselves a sucker",
            "We've got a live one",
            "Finally, someone who wants to play",
            "Get me some cards over here",
            "Alright, let's do this thing",
            "Let's rock and roll",
            "I hope I actually make some money tonight...",
            "You've just made the biggest financial mistake of your life"
        ];

        const dialogueDeal = [
            "I'll go again",
            "Happy to sit in for another hand",
            "I better get good cards this time",
            "This is a good hand, I can feel it!",
            "Keep those cards comin'",
            "I can probably go for one more game...",
            "Again? Sure, I haven't lost enough money yet",
            "This is my only method of income",
            "I have a problem and can't stop gambling",
            "Yeah OK, I'll play again",
            "You sure you want to play again?",
            "I can feel the big win getting closer",
            "I'm pretty washed-out... OK, one more game"
        ];

        const dialogueThink = [
            "Let's see here...",
            "Hmmmm...",
            "OK, well...",
            "So the thing is...",
            "OK, OK...",
            "Oh Christ, OK...",
            "OK, one sec...",
            "Gimmie a minute to think...",
            "Let me just weigh this up...",
            "OK, so if I get that and that...",
            "I will... Uhh...",
            "Thinking... Thinking...",
            "Let me calculate this real quick...",
            "Can I get, uhhhhhhhh...",
            "For God's sake... OK...",
            "Let me just ponder this...",
            "Evaluating..."
        ];

        const dialogueRaise = [
            "OK, I'll raise you",
            "Let's raise this",
            "I'm throwing some money in",
            "Let's heat this up",
            "Let's spice things up a bit",
            "I'm hot like Pol Pot",
            "I'll... Raise...",
            "Raising the roof",
            "After careful consideration, I'm going to raise the bet",
            "Screw it, I'll raise",
            "I guess I'll raise you...",
            "Yeah, I'll raise... Scared yet?",
            "I'll raise ya! How about that?"
        ];

        const dialogueCheck = [
            "Check, please",
            "Checkin'",
            "I'll check",
            "Checkmate... Wait, wrong game...",
            "OK, fine... Check",
            "OK, I'll play your game",
            "I'll check there",
            "Oh God... OK, check...",
            "That's just rich enough for my blood",
            "Check-check-check it out!"
        ];
        
        const dialogueChecked = [
            "That's the spirit",
            "I see you want tango",
            "Checking? Good idea",
            "Don't you want to raise?",
            "Let's keep it moving",
            "Not folding yet, huh?",
            "I think you meant to fold",
            "Darn, I thought you'd fold",
            "Yikes! I was bluffing..."
        ];
        
        let dialogueNew = [
            "Those certainly are some cards...",
            "Not too shabby...",
            "OK... OK... I can work with this...",
            "I'm off to a good start",
            "Now this is what I'm talking about",
            "That's more like it",
            "Oh heck yeah!",
            "Don't underestimate me",
            "Finally, some GOOD cards",
            "I have never seen a better hand",
            "You wish you were me right now, trust me",
            "Are you kidding?",
            "Are you actually kidding me?",
            "You have GOT to be kidding me right now",
            "...Huh? Sorry, my mind was somewhere else",
            "Zoo-wee mama!",
            "The Poker Gods have smiled on me this day!",
            "Welp...",
            "Huh...",
            "Guess I'll stick around",
            "Today's my lucky day!",
            "I've flossed with better cards than these",
            "What a terrible pair",
            "What's that? You can see through my Poker face?",
            "Did anyone bring snacks?",
            "Hang on, I gotta take a photo of this hand for my Instagram",
            "What does it mean when I have two of the same card again?",
            "I'm going to throw this hand in the trash",
            "This hand is trash",
            "This hand is pure garbage",
            "I'm not even gonna look at my cards...",
            "Wake me up when this guy places a bet... ZZzzzzZZzzz...",
            "What a boring game",
            "What a rubbish game",
            "This casino smells funny",
            "I've forgotten how Poker works",
            "This looks pretty good to me",
            "Go Fish! Wait, wrong game...",
            "My pockets are deeper than yours",
            "Don't tell my wife I'm at the casino again",
            "I have so many debts to pay off, you don't even know",
            "At this rate I'm gonna be betting my kids' college money...",
            "Do they sell sandwiches here?",
            "This is like a Bond movie",
            "For another dumb web toy, try dayattherac.es"
        ];
        
        let dialogueStage1 = [
            "Those certainly are some cards...",
            "Not too shabby...",
            "OK... OK... I can work with this...",
            "Now this is what I'm talking about",
            "That's more like it",
            "Oh heck yeah!",
            "Don't underestimate me",
            "Finally, some GOOD cards",
            "You wish you were me right now, trust me",
            "Are you kidding?",
            "Are you actually kidding me?",
            "You have GOT to be kidding me right now",
            "...Huh? Sorry, my mind was somewhere else",
            "Zoo-wee mama!",
            "The Poker Gods have smiled on me this day!",
            "Welp...",
            "Huh...",
            "Guess I'll stick around",
            "Today's my lucky day!",
            "What's that? You can see through my Poker face?",
            "Did anyone bring snacks?",
            "Hang on, I gotta take a photo of this hand for my Instagram",
            "What does it mean when I have three of the same card again?",
            "This is trash",
            "This is pure garbage",
            "Wake me up when this guy places a bet... ZZzzzzZZzzz...",
            "What a boring game",
            "What a rubbish game",
            "This casino smells funny",
            "I've forgotten how Poker works",
            "This looks pretty good to me",
            "Go Fish! Wait, wrong game...",
            "My pockets are deeper than yours",
            "Don't tell my wife I'm at the casino again",
            "I have so many debts to pay off, you don't even know",
            "At this rate I'm gonna be betting my kids' college money...",
            "Do they sell sandwiches here?",
            "OK, so far so good",
            "That's looking a little better",
            "And just like that, it's all ruined",
            "And just like that, I've won this hand",
            "Counting cards? I can hardly count my fingers",
            "This hand was a mistake",
            "I've won this hand for sure",
            "This is like a Bond movie",
            "For another dumb web toy, try dayattherac.es"
        ];
        
        const dialogueFold = [
            "Guess this money's mine then",
            "Too spicy for you?",
            "Wow, what a baby...",
            "Can't take the heat? Stay out the kitchen... Casino... Wherever we are",
            "Too rich for your blood, big shot?",
            "Too rich for your blood, Mr. Bond?",
            "Oh wow, I actually won a hand",
            "I can finally pay off that student loan",
            "I might actually make money tonight!",
            "Gimmie dat money!",
            "Money money money money money...",
            "Chu-ching!",
            "You can't see it but my eyes are dollar symbols right now",
            "Don't mind if I do...",
            "Wow! You really are bad at this, huh?",
            "Stay and let me take more of your money",
            "Go home and be a family man",
            "Boo-hoo! Little baby doesn't like his cards",
            "I mean my cards aren't great either, but you don't see me folding",
            "I'm glad you folded because I was RIGHT behind you",
            "This is too easy",
            "Don't you know how to play Poker? You're supposed to bet!",
            "If you knew what hand I was holding, you wouldn't have done that",
            "Haha! The money is all mine!"
        ];

        const dialogueOppFold = [
            "Fine, I'll fold",
            "I'm folding this trash hand",
            "Too rich for my blood",
            "I can't do this...",
            "Nah, too much for me",
            "I... Will fold..."
        ];
        
        const dialogueWin = [
            "You won? What rubbish!",
            "That's money I'll never see again",
            "You've ruined me",
            "What? I demand a recount",
            "Well played, good sir",
            "Enjoy it, 'cos that's the last hand you're winning",
            "Wow, nice hand",
            "Looks like my luck's run out",
            "There goes my kid's college money",
            "My wife is gonna kill me...",
            "Do you take I.O.U.'s? No? Fine...",
            "It just isn't my day today",
            "Are you cheating or something?",
            "Are you counting cards?",
            "Wow! Would you teach me how to play like that?"
        ];

        const dialogueLose = [
            "Ha ha! I win!",
            "Yes! Come to Pappy...",
            "And just like that, I've won!",
            "I might actually make money tonight!",
            "Gimmie dat money!",
            "Money money money money money...",
            "Chu-ching!",
            "You can't see it but my eyes are dollar symbols right now",
            "I can finally pay off that student loan",
            "Wow! You really are bad at this, huh?",
            "Aw, don't cry! I'll buy you a taxi home",
            "That's why they call me 'The Prince of Poker'! What? People call me that...",
            "Finally, I've actually won something",
            "Tough luck, friend",
            "That's just how the cookie crumbles sometimes",
            "Hey, could you take a picture of me with all this money I took from you?",
            "Haha! The money is all mine!"
        ];

        const dialogueCloseWin = [
            "I can't believe you've done this to me",
            "Down to the wire and I still lose",
            "Damn, I had my hopes up for a second",
            "Yes! I win... Wait... NOOO!",
            "Don't get cocky, you only *just* beat me...",
            "I can't do anything right",
            "That's incredibly frustrating",
            "Maybe I should take up Blackjack...",
            "I can't take this much longer",
            "This loss is gonna keep me up at night"
        ];

        const dialogueCloseLose = [
            "Close, but no cigar",
            "Phew... That was a close one!",
            "For a minute there I thought you might beat me",
            "Not so fast! I think you'll find my cards are slightly better",
            "I'll be taking that pot, thank you very much",
            "It's mine! All mine!",
            "Sorry pal, but this isn't amateur hour",
            "Maybe next time you shouldn't play against a pro like me",
            "Looks like luck *was* a lady tonight!",
            "Looks like the cards were *just* in my favour"
        ];

        const dialogueTie = [
            "What a pointless hand",
            "Well that was a waste of time",
            "Oh... I guess we'll have to play again",
            "Really? That's boring...",
            "At least I didn't lose any money",
            "Thank God... I thought you'd won for sure!"
        ];
        
        const dialogueBroke = [
            "What's the matter? Out of money?",
            "Looks like I've cleaned you out",
            "Better luck next time",
            "I think you should probably call it quits",
            "Need to take out a loan? I know a guy...",
            "Sorry, bub, I only take cash",
            "No shirt, no shoes, no money, no service",
            "Out of money? Not my problem",
            "Come back when you have some dough",
            "Game over, man! Game over!"
        ];
        
        const dialogueExtra = [
            "I don't think these cards are standard issue",
            "Who left these in the deck?",
            "I don't think these cards are according to Hoyle",
            "I've never played Poker like this before",
            "Is it just me or do these cards seem kinda weird?",
            "I heard Jokers and other wild cards can count as any suit in a flush",
            "I heard Jokers and other wild cards can count as any value in a straight",
            "Sometimes Jokers are added as additional Aces for pairs, threes etc."
        ];

        const dialogueUno = [
            "OK these are definitely not legal cards",
            "I think someone mixed these decks up",
            "Excuse me, Dealer? What the hell is going on?",
            "I doubt Skip or Reverse cards are worth anything",
            "I bet you could use a +2 card as a 2 in a straight",
            "Do you think +2's are worth more than normal 2's because of the '+' part?",
            "I bet you could use a +4 card as a 4 in a straight",
            "Do you think +4's are worth more than normal 4's because of the '+' part?",
            "I wonder if UNO Wild cards work the same as other wild cards...",
            "The 4 different colours of UNO cards probably work the same as suits"
        ];

        const dialogueTarot = [
            "What the heck are Tarot cards doing in here?",
            "The Emperor and Empress in the Tarot deck kinda remind me of a King and Queen...",
            "The Fool in the Tarot deck kinda reminds me of a Joker...",
            "If you only had Tarot cards in your hand, would it be a flush?"
        ];

        const dialogueHanafuda = [
            "If I remember my Hanafuda rules right, you gotta pair cards of the same suit",
            'If I remember my Hanafuda rules right, "Animal" cards are worth 5 points...',
            'If I remember my Hanafuda rules right, "Bright" cards are worth 20 points...',
            'If I remember my Hanafuda rules right, "Ribbon" cards are worth 10 points...',
            "I think the Lightning Storm card in the Hanafuda deck is a wild card",
            "Hanafuda cards have 12 suits, each representing a month. I bet later months are worth more...",
            "There's only 4 cards per suit in Hanafuda, so a flush is very unlikely",
            "Some of these cards don't even have numbers on 'em!"
        ];

        //Enable for console log reporting
        
        const testLog = true;

        //Variable for card generation

        let cardColour;

        //Global variables for counting
        
        let turnCounter = 0;
        let cardCounter = 0;
        let stage = 0;

        //Costants for turn at which new cards are introduced
        
        const extraTurn = 4;
        const unoTurn = 7;
        const tarotTurn = 10;
        const hanafudaTurn = 15;
        const wildTurn = 20;

        //Variables for updating dialogue
        
        let extraFlag = false;
        let unoFlag = false;
        let tarotFlag = false;
        let hanafudaFlag = false;
        
        //Global variables for the different deck arrays
        
        let mainDeck = [];
        let riverDeck = [];
        let handDeck = [];
        let oppDeck = [];
        let oppShowDeck = [];
        let winDeck = [];
        let tieDeck = [];

        //Global variables for money values
        
        let playerMoney = 10000;
        let betMoney = 0;
        let oppBetMoney = 0;
        let potMoney = 0;

        //Variables for player and opponent holding in 5 Card Draw hands
        
        let hold1 = 0;
        let hold2 = 0;
        let hold3 = 0;
        let hold4 = 0;
        let hold5 = 0;

        let oppHold1 = 0;
        let oppHold2 = 0;
        let oppHold3 = 0;
        let oppHold4 = 0;
        let oppHold5 = 0;

        let oppHoldNum = 0;
        let oppDrawNum = 0;
        let drawNumReport = 0;

        //Initial randomised value for Lovers card emoji

        let randLover = Math.floor((Math.random() * 3));

        //Global variables for hand calculation
        
        let cardPool;
        let groups;
        let straights;
        let flushes;
        let bestHand = [];
        let best = 0;

        let fiveCounter;
        let fourCounter;
        let threeCounter;
        let onePairCounter;
        let fullCounter;
        let twoPairCounter;
        let straightFlushCounter;
        let flushCounter;
        let straightCounter;

        //Hidden card (Displayed as card back)

        let hiddenCard = {Type: "hidden"};

        //Random number generator for initial dialogue
        
        let randDialoge = Math.floor(Math.random() * (dialogueStart.length));

        //Deck Generation
        
        function genPlayingDeck() {
            let deck = new Array();

            for(i = 0; i < playingSuits.length; i++) {

                if (playingSuits[i] === "Diamonds" || playingSuits[i] === "Hearts") {
                    cardColour = "Red";
                }
                else {
                    cardColour = "Black";
                }

                for(let x = 0; x < playingValues.length; x++) {
                    let nameVal;
                    let pairVal;
                    let rankVal;
                    let pairAlt = null;
                    let rankAlt = null;
                    if (playingValues[x] === "J") {
                        nameVal = "Jack";
                        rankVal = 11;
                    }
                    else if (playingValues[x] === "Q") {
                        nameVal = "Queen";
                        rankVal = 12;
                    }
                    else if (playingValues[x] === "K") {
                        nameVal = "King";
                        rankVal = 13;
                    }
                    else if (playingValues[x] === "A") {
                        nameVal = "Ace";
                        rankVal = 14;
                        pairAlt = "1";
                        rankAlt = 1;
                    }
                    else {
                        nameVal = playingValues[x];
                        rankVal = Number(playingValues[x]);
                    }
                    let card = {Name: nameVal + " of " + playingSuits[i], PairValue: playingValues[x], PairAlt: pairAlt, PairRank: rankVal, RankValue: rankVal, RankAlt: rankAlt, Suit: playingSuits[i], Colour: cardColour, Type: "playing"};
                    deck.push(card);
                }
            }
            return deck;
        }

        function genPlayingExtra() {
            let deck = new Array();

            let card = {Name: "Black Joker", PairValue: "Joker", PairAlt: "A", PairRank: 0, RankValue: "Wild", RankAlt: null, Suit: "Wild", Colour: "Black", Type: "extra"};
            deck.push(card);
            card = {Name: "Red Joker", PairValue: "Joker", PairAlt: "A", PairRank: 0, RankValue: "Wild", RankAlt: null, Suit: "Wild", Colour: "Red", Type: "extra"};
            deck.push(card);
            card = {Name: "Rules of Poker", PairValue: null, PairAlt: null,  PairRank: -100, RankValue: -100, RankAlt: null, Suit: null, Colour: "Black", Type: "extra"};
            deck.push(card);
            
            return deck;
        }

        function genPlaying54() {
            let deck = genPlayingDeck();
            let extra = genPlayingExtra();

            for (i = 0; i < extra.length; i++) {
                let card = extra[i];
                deck.push(card);
            }
            return deck;
        }

        function genUnoDeck() {
            let deck = new Array();

            for(i = 0; i < unoColours.length; i++) {
                let card;
                for(let x = 0; x < unoValues.length; x++) {
                    card = {Name: unoColours[i] + " " + unoValues[x], PairValue: unoValues[x], PairAlt: null, PairRank: Number(unoValues[x]), RankValue: Number(unoValues[x]), RankAlt: null, Suit: unoColours[i], Colour: unoColours[i], Type: "uno"};
                    deck.push(card);
                }
                for(let x = 0; x < unoValues.length; x++) {
                    card = {Name: unoColours[i] + " " + unoValues[x], PairValue: unoValues[x], PairAlt: null, PairRank: Number(unoValues[x]), RankValue: Number(unoValues[x]), RankAlt: null, Suit: unoColours[i], Colour: unoColours[i], Type: "uno"};
                    deck.push(card);
                }

                card = {Name: unoColours[i] + " 0", PairValue: "0", PairAlt: null, PairRank: 0, RankValue: 0, RankAlt: null, Suit: unoColours[i], Colour: unoColours[i], Type: "uno"};
                deck.push(card);

                for(let x = 0; x < 2; x++) {
                    card = {Name: unoColours[i] + " Draw 2", PairValue: "Draw2", PairAlt: null, PairRank: 2.5, RankValue: 2, RankAlt: null, Suit: unoColours[i], Colour: unoColours[i], Type: "uno"};
                    deck.push(card);
                    card = {Name: unoColours[i] + " Reverse", PairValue: "Reverse", PairAlt: null, PairRank: 0, RankValue: -100, RankAlt: null, Suit: unoColours[i], Colour: unoColours[i], Type: "uno"};
                    deck.push(card);
                    card = {Name: unoColours[i] + " Skip", PairValue: "Skip", PairAlt: null, PairRank: 0, RankValue: -100, RankAlt: null, Suit: unoColours[i], Colour: unoColours[i], Type: "uno"};
                    deck.push(card);
                }
            }

            for (i = 0; i < 4; i++) {
                card = {Name: "Wild", PairValue: "Wild", PairAlt: "A", PairRank: 0, RankValue: "Wild", RankAlt: null, Suit: "Wild", Colour: "Wild", Type: "uno"};
                deck.push(card);
                card = {Name: "Wild Draw 4", PairValue: "Draw4", PairAlt: null, PairRank: 4.5, RankValue: 4, RankAlt: null, Suit: "Wild", Colour: "Wild", Type: "uno"};
                deck.push(card);
            }
            return deck;
        }

        function genTarotDeck() {
            let deck = new Array();

            for(i = 0; i < tarotNames.length; i++) {
                let card;
                if (tarotValues[i] === "0") {
                    card = {Name: tarotValues[i] + ". " + tarotNames[i], PairValue: tarotValues[i], PairAlt: "Joker", PairRank: Number(tarotValues[i]), RankValue: Number(tarotValues[i]), RankAlt: null, Suit: "Tarot", Colour: "Tarot", Type: "tarot"};
                }
                else if (tarotValues[i] === "3") {
                    card = {Name: tarotValues[i] + ". " + tarotNames[i], PairValue: tarotValues[i], PairAlt: "Q", PairRank: Number(tarotValues[i]), RankValue: Number(tarotValues[i]), RankAlt: null, Suit: "Tarot", Colour: "Tarot", Type: "tarot"};
                }
                else if (tarotValues[i] === "4") {
                    card = {Name: tarotValues[i] + ". " + tarotNames[i], PairValue: tarotValues[i], PairAlt: "K", PairRank: Number(tarotValues[i]), RankValue: Number(tarotValues[i]), RankAlt: null, Suit: "Tarot", Colour: "Tarot", Type: "tarot"};
                }
                else {
                    card = {Name: tarotValues[i] + ". " + tarotNames[i], PairValue: tarotValues[i], PairAlt: null, PairRank: Number(tarotValues[i]), RankValue: Number(tarotValues[i]), RankAlt: null, Suit: "Tarot", Colour: "Tarot", Type: "tarot"};
                }
                deck.push(card); 
            }
            return deck;
        }

        function combineDecks() {
            if (testLog === true) {
                console.log("Turn: " + turnCounter);
            }
            let deck = new Array();
            let playing = genPlayingDeck();
            let extra = genPlayingExtra();
            let uno = genUnoDeck();
            let tarot = genTarotDeck();

            shuffle(uno);
            shuffle(tarot);
            shuffle(hanafuda);
            
            if (turnCounter < extraTurn) {
                if (testLog === true) {
                    console.log("Cards: Standard 52");
                }
                for (i = 0; i < playing.length; i++) {
                    let card = playing[i];
                    deck.push(card);
                }
                console.log("Array length: " + deck.length);
            }
            else if (turnCounter < unoTurn) {
                if (testLog === true) {
                    console.log("Cards: Standard + Jokers + Rules");
                }
                for (i = 0; i < playing.length; i++) {
                    let card = playing[i];
                    deck.push(card);
                }
                for (i = 0; i < extra.length; i++) {
                    let card = extra[i];
                    deck.push(card);
                }
            }
            else if (turnCounter < tarotTurn) {
                if (testLog === true) {
                    console.log("Cards: 55 Deck + Uno");
                }
                for (i = 0; i < playing.length; i++) {
                    let card = playing[i];
                    deck.push(card);
                }
                for (i = 0; i < extra.length; i++) {
                    let card = extra[i];
                    deck.push(card);
                }
                for (i = 0; i < 20; i++) {
                let card = uno[i];
                deck.push(card);
                }
            }
            else if (turnCounter < hanafudaTurn) {
                if (testLog === true) {
                    console.log("Cards: 55 Deck + Uno + Tarot");
                }
                for (i = 0; i < playing.length; i++) {
                    let card = playing[i];
                    deck.push(card);
                }
                for (i = 0; i < extra.length; i++) {
                    let card = extra[i];
                    deck.push(card);
                }
                for (i = 0; i < 15; i++) {
                let card = uno[i];
                deck.push(card);
                }
                for (i = 0; i < 15; i++) {
                let card = tarot[i];
                deck.push(card);
                }
            }
            else if (turnCounter < wildTurn) {
                if (testLog === true) {
                    console.log("Cards: 55 Deck + Uno + Tarot + Hanafuda");
                }
                for (i = 0; i < playing.length; i++) {
                    let card = playing[i];
                    deck.push(card);
                }
                for (i = 0; i < extra.length; i++) {
                    let card = extra[i];
                    deck.push(card);
                }
                for (i = 0; i < 10; i++) {
                let card = uno[i];
                deck.push(card);
                }
                for (i = 0; i < 10; i++) {
                let card = tarot[i];
                deck.push(card);
                }
                for (i = 0; i < 10; i++) {
                let card = hanafuda[i];
                deck.push(card);
                }
            }
            else {
                if (testLog === true) {
                    console.log("Cards: Wild");
                }

                let rand = Math.floor((Math.random() * 10) + 1);

                if (rand === 10) {
                    rand = Math.floor((Math.random() * 4) + 1);
                    if (rand === 1) {
                        for (i = 0; i < playing.length; i++) {
                            let card = playing[i];
                            deck.push(card);
                        }
                        for (i = 0; i < extra.length; i++) {
                            let card = extra[i];
                            deck.push(card);
                        }
                        if (testLog === true) {
                            console.log("Standard deck + Extras only");
                        }
                    }
                    else if (rand === 2) {
                        for (i = 0; i < uno.length; i++) {
                            let card = uno[i];
                            deck.push(card);
                        }
                        if (testLog === true) {
                            console.log("Uno only");
                        }
                    }
                    else if (rand === 3) {
                        for (i = 0; i < tarot.length; i++) {
                            let card = tarot[i];
                            deck.push(card);
                        }
                        if (testLog === true) {
                            console.log("Tarot only");
                        }
                    }
                    else if (rand === 4) {
                        for (i = 0; i < hanafuda.length; i++) {
                            let card = hanafuda[i];
                            deck.push(card);
                        }
                        if (testLog === true) {
                            console.log("Hanafuda only");
                        }
                    }
                }
                else {
                    if (Math.random() > 0.3) {
                        for (i = 0; i < playing.length; i++) {
                        let card = playing[i];
                        deck.push(card);
                        }
                        for (i = 0; i < extra.length; i++) {
                            let card = extra[i];
                            deck.push(card);
                        }
                    }
                    if (Math.random() > 0.5) {
                        rand = Math.floor((Math.random() * 30) + 1);
                        for (i = 0; i < rand; i++) {
                            let card = uno[i];
                            deck.push(card);
                        }
                        if (testLog === true) {
                            console.log(rand + " Uno cards");
                        }
                    }
                    if (Math.random() > 0.5) {
                        rand = Math.floor((Math.random() * 22) + 1);
                        for (i = 0; i < rand; i++) {
                            let card = tarot[i];
                            deck.push(card);
                        }
                        if (testLog === true) {
                            console.log(rand + " Tarot cards");
                        }
                    }
                    if (Math.random() > 0.7) {
                        rand = Math.floor((Math.random() * 30) + 1);
                        for (i = 0; i < rand; i++) {
                            let card = hanafuda[i];
                            deck.push(card);
                        }
                        if (testLog === true) {
                            console.log(rand + " Hanafuda cards");
                        }
                    }
                }
                if (deck.length === 0) {
                    for (i = 0; i < playing.length; i++) {
                        let card = playing[i];
                        deck.push(card);
                    }
                    for (i = 0; i < extra.length; i++) {
                        let card = extra[i];
                        deck.push(card);
                    }
                }
            }
            return deck;
        }

        function allDecks() {
            let deck = new Array();
            let playing = genPlayingDeck();
            let extra = genPlayingExtra();
            let uno = genUnoDeck();
            let tarot = genTarotDeck();
            
            for (i = 0; i < playing.length; i++) {
                let card = playing[i];
                deck.push(card);
            }

            for (i = 0; i < extra.length; i++) {
                let card = extra[i];
                deck.push(card);
            }

            for (i = 0; i < uno.length; i++) {
                let card = uno[i];
                deck.push(card);
            }

            for (i = 0; i < tarot.length; i++) {
                let card = tarot[i];
                deck.push(card);
            }

            for (i = 0; i < hanafuda.length; i++) {
                let card = hanafuda[i];
                deck.push(card);
            }
            return deck;
        }
        
        function shuffleDeck() {
            shuffle(mainDeck);
        }
        
        function shuffle(deck) {
            for (let i = 0; i < 4000; i++) {
                let location1 = Math.floor((Math.random() * deck.length));
                let location2 = Math.floor((Math.random() * deck.length));
                let tmpShuffle = deck[location1];

                deck[location1] = deck[location2];
                deck[location2] = tmpShuffle;
            }
        }

        //Rendering
        
        function renderAll() {
            //renderCards("main");
            renderCards("river");
            renderCards("hand");
            renderCards("oppShow");
            renderCards("win");
            renderCards("tie");
            renderMoney();
            renderReport();
        }

        function renderMoney() {
            document.getElementById("inventory_space").innerHTML = `$ ${playerMoney.toLocaleString('en', {useGrouping:true})}`;
            document.getElementById("bet_space").innerHTML = `Bet: $ ${betMoney.toLocaleString('en', {useGrouping:true})}`;
            document.getElementById("pot_space").innerHTML = `Pot: $ ${potMoney.toLocaleString('en', {useGrouping:true})}`;

            document.getElementById("opp_bet_space").innerHTML = `Bet: $ ${oppBetMoney.toLocaleString('en', {useGrouping:true})}`;
        }

        function renderCards(deckType) {
            let space = eval(deckType + "Space");
            let deck = eval(deckType + "Deck");

            space.innerHTML = "";
            for(let i = 0; i < deck.length; i++) {
                let card = document.createElement("div");
                let icon;
                let value;
                let cardCol;
                let name;
                let wild;

                card.className = "card";
                name = deck[i].Name;
                wild = deck[i].Wild;

                if (deck[i].Type === "playing" || deck[i].Type === "extra") {

                    value = deck[i].PairValue;

                    if (deck[i].Suit === "Hearts") {
                        icon = "♥";
                    }
                    else if (deck[i].Suit === "Spades") {
                        icon = "♠";
                    }
                    else if (deck[i].Suit === "Diamonds") {
                        icon = "♦";
                    }
                    else if (deck[i].Suit === "Clubs") {
                        icon = "♣";
                    }
                    else {
                        icon = "J";
                    }

                    cardCol = deck[i].Colour;

                    if (value === "Joker") {
                        card.innerHTML = `<div class="top_joker">${value}</div><div class="joker_icon">${icon}</div><div class="bottom_joker">${value}</div>`;
                        if (cardCol === "Red") {
                            card.classList.add("red");
                        }
                    }
                    else if (deck[i].Name === "Rules of Poker") {
                        card.innerHTML = `<div class="top_rules">RULES FOR DRAW AND STUD POKER</div><div class="bottom_rules">▒▒▒</div>`;
                        if (cardCol === "Red") {
                            card.classList.add("red");
                        }
                    }
                    else {
                        card.innerHTML = `<div class="top_num">${value}</div><div class="icon">${icon}</div><div class="bottom_num">${value}</div>`;
                        if (cardCol === "Red") {
                            card.classList.add("red");
                        }
                    }
                }

                if (deck[i].Type === "uno") {

                    value = deck[i].PairValue;

                    card.classList.add("uno");

                    if (value === "Draw2") {
                        icon = "+2";
                        card.innerHTML = `<div class="top_uno">${icon}</div><div class="uno_icon">${icon}</div><div class="bottom_uno">${icon}</div>`;
                    }
                    else if (value === "Reverse") {
                        icon = "⇄";
                        card.innerHTML = `<div class="top_uno">${icon}</div><div class="uno_icon">${icon}</div><div class="bottom_uno">${icon}</div>`;
                    }
                    else if (value === "Skip") {
                        icon = "&#128683;";
                        card.innerHTML = `<div class="top_skip">${icon}</div><div class="skip_icon">${icon}</div><div class="bottom_skip">${icon}</div>`;
                    }
                    else if (value === "Wild") {
                        icon = "Wild";
                        card.innerHTML = `<div class="top_uno">${icon}</div><div class="wild_icon">🟥🟦</div><div class="wild_icon">🟨🟩</div><div class="bottom_uno">${icon}</div>`;
                    }
                    else if (value === "Draw4") {
                        icon = "+4";
                        card.innerHTML = `<div class="top_uno">${icon}</div><div class="wild_icon">🟥🟦</div><div class="wild_icon">🟨🟩</div><div class="bottom_uno">${icon}</div>`;
                    }
                    else {
                        icon = value;
                        card.innerHTML = `<div class="top_uno">${icon}</div><div class="uno_icon">${icon}</div><div class="bottom_uno">${icon}</div>`;
                    }

                    if (deck[i].Colour === "Red") {
                        card.classList.add("uno_red");
                    }
                    else if (deck[i].Colour === "Blue") {
                        card.classList.add("uno_blue");
                    }
                    else if (deck[i].Colour === "Yellow") {
                        card.classList.add("uno_yellow");
                    }
                    else if (deck[i].Colour === "Green") {
                        card.classList.add("uno_green");
                    }
                    else {
                        card.classList.add("uno_wild");
                    }
                }

                if (deck[i].Type === "tarot") {

                    value = deck[i].PairValue;
                    name = tarotNames[Number(value)];

                    if (value === "0") {
                        icon = "🤡";
                    }
                    if (value === "1") {
                        icon = "🧙";
                    }
                    if (value === "2") {
                        icon = "🧙‍♀️";
                    }
                    if (value === "3") {
                        icon = "👸";
                    }
                    if (value === "4") {
                        icon = "🤴";
                    }
                    if (value === "5") {
                        icon = "⛪";
                    }
                    if (value === "6" && randLover === 0) {
                        icon = "💑";
                    }
                    if (value === "6" && randLover === 1) {
                        icon = "👨‍❤️‍👨";
                    }
                    if (value === "6" && randLover === 2) {
                        icon = "👩‍❤️‍👩";
                    }
                    if (value === "7") {
                        icon = "🐎";
                    }
                    if (value === "8") {
                        icon = "⚖️";
                    }
                    if (value === "9") {
                        icon = "👴";
                    }
                    if (value === "10") {
                        icon = "🎡";
                    }
                    if (value === "11") {
                        icon = "🦁";
                    }
                    if (value === "12") {
                        icon = "🤸";
                    }
                    if (value === "13") {
                        icon = "💀";
                    }
                    if (value === "14") {
                        icon = "🍶";
                    }
                    if (value === "15") {
                        icon = "😈";
                    }
                    if (value === "16") {
                        icon = "🗼";
                    }
                    if (value === "17") {
                        icon = "🌟";
                    }
                    if (value === "18") {
                        icon = "🌛";
                    }
                    if (value === "19") {
                        icon = "🌞";
                    }
                    if (value === "20") {
                        icon = "👼";
                    }
                    if (value === "21") {
                        icon = "🌎";
                    }
                    card.innerHTML = `<div class="top_tarot">${value}.<br>${name}</div><div class="tarot_icon">${icon}</div>`;
                    card.classList.add("tarot");
                }

                if (deck[i].Type === "hanafuda") {
                    
                    value = deck[i].RankValue;

                    let plant = "";
                    let animal = "";
                    let bright = "";
                    let ribbon = "";
                    let suit = deck[i].Suit;

                    if (suit === "January") {
                        plant = "🌲";
                    }
                    if (suit === "February") {
                        plant = "🌺";
                    }
                    if (suit === "March") {
                        plant = "🌸";
                    }
                    if (suit === "April") {
                        plant = "🌿";
                    }
                    if (suit === "May") {
                        plant = "🌾";
                    }
                    if (suit === "June") {
                        plant = "🌹";
                    }
                    if (suit === "July") {
                        plant = "💐";
                    }
                    if (suit === "August") {
                        plant = "⛰️";
                    }
                    if (suit === "September") {
                        plant = "🏵️";
                    }
                    if (suit === "October") {
                        plant = "🍁";
                    }
                    if (suit === "November") {
                        plant = "🌳";
                    }
                    if (suit === "December") {
                        plant = "🥀";
                    }

                    if (suit === "January" && value === 20) {
                        card.innerHTML = `<div class="hana_icon">☀️</div><div class="hana_icon">🦢</div><div class="hana_icon">${plant}${plant}</div>`;
                        card.classList.add("hanafuda");
                    }
                    else if (suit === "January" && value === 10) {
                        card.innerHTML = `<div class="hana_empty"></div><div class="hana_icon">🈴</div><div class="hana_icon">${plant}${plant}</div>`;
                        card.classList.add("hanafuda");
                    }
                    else if (suit === "February" && value === 5) {
                        card.innerHTML = `<div class="hana_empty"></div><div class="hana_icon">🐦</div><div class="hana_icon">${plant}${plant}</div>`;
                        card.classList.add("hanafuda");
                    }
                    else if (suit === "February" && value === 10) {
                        card.innerHTML = `<div class="hana_empty"></div><div class="hana_icon">🈴</div><div class="hana_icon">${plant}${plant}</div>`;
                        card.classList.add("hanafuda");
                    }
                    else if (suit === "March" && value === 20) {
                        card.innerHTML = `<div class="hana_icon">☀️</div><div class="hana_icon">🧧</div><div class="hana_icon">${plant}${plant}</div>`;
                        card.classList.add("hanafuda");
                    }
                    else if (suit === "March" && value === 5) {
                        card.innerHTML = `<div class="hana_empty"></div><div class="hana_icon">🈴</div><div class="hana_icon">${plant}${plant}</div>`;
                        card.classList.add("hanafuda");
                    }
                    else if (suit === "April" && value === 5) {
                        card.innerHTML = `<div class="hana_empty"></div><div class="hana_icon">🐦</div><div class="hana_icon">${plant}${plant}</div>`;
                        card.classList.add("hanafuda");
                    }
                    else if (suit === "April" && value === 10) {
                        card.innerHTML = `<div class="hana_empty"></div><div class="hana_icon">🟥</div><div class="hana_icon">${plant}${plant}</div>`;
                        card.classList.add("hanafuda");
                    }
                    else if (suit === "May" && value === 5) {
                        card.innerHTML = `<div class="hana_empty"></div><div class="hana_icon">🌉</div><div class="hana_icon">${plant}${plant}</div>`;
                        card.classList.add("hanafuda");
                    }
                    else if (suit === "May" && value === 10) {
                        card.innerHTML = `<div class="hana_empty"></div><div class="hana_icon">🟥</div><div class="hana_icon">${plant}${plant}</div>`;
                        card.classList.add("hanafuda");
                    }
                    else if (suit === "June" && value === 5) {
                        card.innerHTML = `<div class="hana_empty"></div><div class="hana_icon">🦋</div><div class="hana_icon">${plant}${plant}</div>`;
                        card.classList.add("hanafuda");
                    }
                    else if (suit === "June" && value === 10) {
                        card.innerHTML = `<div class="hana_empty"></div><div class="hana_icon">🟦</div><div class="hana_icon">${plant}${plant}</div>`;
                        card.classList.add("hanafuda");
                    }
                    else if (suit === "July" && value === 5) {
                        card.innerHTML = `<div class="hana_empty"></div><div class="hana_icon">🐖</div><div class="hana_icon">${plant}${plant}</div>`;
                        card.classList.add("hanafuda");
                    }
                    else if (suit === "July" && value === 10) {
                        card.innerHTML = `<div class="hana_empty"></div><div class="hana_icon">🟥</div><div class="hana_icon">${plant}${plant}</div>`;
                        card.classList.add("hanafuda");
                    }
                    else if (suit === "August" && value === 20) {
                        card.innerHTML = `<div class="hana_empty"></div><div class="hana_icon">🌕</div><div class="hana_icon">${plant}${plant}</div>`;
                        card.classList.add("hanafuda");
                    }
                    else if (suit === "August" && value === 5) {
                        card.innerHTML = `<div class="hana_empty"></div><div class="hana_icon">🕊️</div><div class="hana_icon">${plant}${plant}</div>`;
                        card.classList.add("hanafuda");
                    }
                    else if (suit === "September" && value === 5) {
                        card.innerHTML = `<div class="hana_empty"></div><div class="hana_icon">🍶</div><div class="hana_icon">${plant}${plant}</div>`;
                        card.classList.add("hanafuda");
                    }
                    else if (suit === "September" && value === 10) {
                        card.innerHTML = `<div class="hana_empty"></div><div class="hana_icon">🟦</div><div class="hana_icon">${plant}${plant}</div>`;
                        card.classList.add("hanafuda");
                    }
                    else if (suit === "October" && value === 5) {
                        card.innerHTML = `<div class="hana_empty"></div><div class="hana_icon">🦌</div><div class="hana_icon">${plant}${plant}</div>`;
                        card.classList.add("hanafuda");
                    }
                    else if (suit === "October" && value === 10) {
                        card.innerHTML = `<div class="hana_empty"></div><div class="hana_icon">🟦</div><div class="hana_icon">${plant}${plant}</div>`;
                        card.classList.add("hanafuda");
                    }
                    else if (suit === "November" && value === 20) {
                        card.innerHTML = `<div class="hana_icon">🌧️</div><div class="hana_icon">🎎</div><div class="hana_icon">${plant}${plant}</div>`;
                        card.classList.add("hanafuda");
                    }
                    else if (suit === "November" && value === 5) {
                        card.innerHTML = `<div class="hana_empty"></div><div class="hana_icon">🐦</div><div class="hana_icon">${plant}${plant}</div>`;
                        card.classList.add("hanafuda");
                    }
                    else if (suit === "November" && value === 10) {
                        card.innerHTML = `<div class="hana_empty"></div><div class="hana_icon">🟥</div><div class="hana_icon">${plant}${plant}</div>`;
                        card.classList.add("hanafuda");
                    }
                    else if (suit === "December" && value === 20) {
                        card.innerHTML = `<div class="hana_icon">☀️</div><div class="hana_icon">🦅</div><div class="hana_icon">${plant}${plant}</div>`;
                        card.classList.add("hanafuda");
                    }
                    else if (suit === "December" && value === 10) {
                        card.innerHTML = `<div class="hana_empty"></div><div class="hana_icon">🟨</div><div class="hana_icon">${plant}${plant}</div>`;
                        card.classList.add("hanafuda");
                    }
                    else if (suit === "November" && value === "Wild") {
                        card.innerHTML = `<div class="hana_empty"></div><div class="hana_icon">🌩️</div><div class="hana_icon">${plant}${plant}</div>`;
                        card.classList.add("lightning_hanafuda");
                    }
                    else {
                        card.innerHTML = `<div class="hana_empty"></div><div class="hana_empty"></div><div class="hana_icon">${plant}${plant}</div>`;
                        card.classList.add("hanafuda");
                    }
                }

                if (deck[i].Type === "hidden") {
                    card.innerHTML = `<div class="card_back">▒</div>`;
                    card.classList.add("hidden");
                }
                if (deckType === "hand") {
                    card.setAttribute("id", ("hand_" + i));
                }
                space.appendChild(card);
            }
        }

        function renderReport() {
            reportSpace.innerHTML = ``;
            if (handDeck.length !== 0) {
                //reportSpace.innerHTML += `Current Hand: <span class="report_${handDeck[0].Colour}">${handDeck[0].Name}</span>, <span class="report_${handDeck[1].Colour}">${handDeck[1].Name}</span><br><br>`;
                reportSpace.innerHTML += `Current Hand: `;
                for (i = 0; i < handDeck.length; i++) {
                    if (handDeck[i].Type !== "hidden") {
                        reportSpace.innerHTML += `<span class="report_${handDeck[i].Colour}">${handDeck[i].Name}</span>, `;
                    }
                }
                reportSpace.innerHTML = reportSpace.innerHTML.slice(0, -2);
                reportSpace.innerHTML += `<br><br>`;
            }
            if (stage > 1 && handDeck.length === 2) {
                reportSpace.innerHTML += `Board: `;
                for (i = 0; i < riverDeck.length; i++) {
                    if (riverDeck[i].Type !== "hidden") {
                        reportSpace.innerHTML += `<span class="report_${riverDeck[i].Colour}">${riverDeck[i].Name}</span>, `;
                    }
                }
                reportSpace.innerHTML = reportSpace.innerHTML.slice(0, -2);
                reportSpace.innerHTML += `<br><br>`;
            }
        }
        
        //Texas Hold 'Em
        
        function drawTexRound() {
            stage = 0;
            console.log("-Stage 0-");

            handSpace.className = "";
            handSpace.classList.add("card_space");
            oppShowSpace.className = "";
            oppShowSpace.classList.add("card_space");

            turnCounter++;
            randLover = Math.floor((Math.random() * 3));
            mainDeck = [];
            riverDeck = [];
            handDeck = [];
            oppDeck = [];
            oppShowDeck = [];
            winDeck = [];
            tieDeck = [];
            mainDeck = combineDecks();
            shuffleDeck();

            if (testLog === true) {
                console.log("Main Deck:");
                console.log(mainDeck);
            }

            playerMoney += -500;
            potMoney += 1000;
            saveValues();

            renderAll();

            for (i = 0; i < 2; i++) {
                let card = mainDeck.shift();
                oppDeck.push(card);
            }

            if (turnCounter === 1) {
                randDialoge = Math.floor(Math.random() * (dialogueDealNew.length));
                dialogueSpace.innerText = dialogueDealNew[randDialoge];
            }
            else {
                randDialoge = Math.floor(Math.random() * (dialogueDeal.length));
                dialogueSpace.innerText = dialogueDeal[randDialoge];
            }

            cardCounter = 0;
            setTimeout(drawPairs, 500);

            document.getElementById("newtexhand_button").style.visibility = "hidden";
            document.getElementById("newfivehand_button").style.visibility = "hidden";
            document.getElementById("win_cards1").style.visibility = "hidden";
            document.getElementById("win_cards2").style.visibility = "hidden";

            document.getElementById("makebet_button").innerText = "Check";
        }

        function drawPairs() {
            let card;
            if (cardCounter === 0) {
                card = mainDeck.shift();
                handDeck.push(card);
                cardCounter++;
                renderCards("hand");
                setTimeout(drawPairs, 500);
            }
            else if (cardCounter === 1) {
                card = mainDeck.shift();
                handDeck.push(card);
                cardCounter++;
                renderCards("hand");
                setTimeout(drawPairs, 500);
            }
            else if (cardCounter === 2) {
                card = hiddenCard;
                oppShowDeck.push(card);
                cardCounter++;
                renderCards("oppShow");
                setTimeout(drawPairs, 500);
            }
            else if (cardCounter === 3) {
                card = hiddenCard;
                oppShowDeck.push(card);
                cardCounter++;
                renderCards("oppShow");
                setTimeout(drawPairs, 500);
            }
            else if (cardCounter === 4) {
                card = hiddenCard;
                riverDeck.push(card);
                cardCounter++;
                renderCards("river");
                setTimeout(drawPairs, 500);
            }
            else if (cardCounter === 5) {
                card = hiddenCard;
                riverDeck.push(card);
                cardCounter++;
                renderCards("river");
                setTimeout(drawPairs, 500);
            }
            else if (cardCounter === 6) {
                card = hiddenCard;
                riverDeck.push(card);
                cardCounter++;
                renderCards("river");
                setTimeout(drawPairs, 500);
            }
            else if (cardCounter === 7) {
                card = hiddenCard;
                riverDeck.push(card);
                cardCounter++;
                renderCards("river");
                setTimeout(drawPairs, 500);
            }
            else if (cardCounter === 8) {
                card = hiddenCard;
                riverDeck.push(card);
                cardCounter++;
                document.getElementById("makebet_button").innerText = "Check";
                document.getElementById("betup_button").style.visibility = "visible";
                document.getElementById("betdown_button").style.visibility = "visible";
                document.getElementById("makebet_button").style.visibility = "visible";
                document.getElementById("fold_button").style.visibility = "visible";
                randDialoge = Math.floor(Math.random() * (dialogueNew.length));
                dialogueSpace.innerText = dialogueNew[randDialoge];

                renderAll();
            }
        }

        function drawRiver() {
            let card;
            if (cardCounter === 1) {
                riverDeck = [];
                card = mainDeck.shift();
                riverDeck.push(card);
                cardCounter++;
                for (i = 0; i < 4; i++) {
                    let card = hiddenCard;
                    riverDeck.push(card);
                }
                renderAll();
                setTimeout(drawRiver, 500);
            }
            else if (cardCounter === 2) {
                riverDeck.pop();
                riverDeck.pop();
                riverDeck.pop();
                riverDeck.pop();
                card = mainDeck.shift();
                riverDeck.push(card);
                for (i = 0; i < 3; i++) {
                    let card = hiddenCard;
                    riverDeck.push(card);
                }
                cardCounter++;
                renderAll();
                setTimeout(drawRiver, 500);
            }
            else if (cardCounter === 3) {
                riverDeck.pop();
                riverDeck.pop();
                riverDeck.pop();
                card = mainDeck.shift();
                riverDeck.push(card);
                for (i = 0; i < 2; i++) {
                    card = hiddenCard;
                    riverDeck.push(card);
                }
                cardCounter++;
                renderAll();
                setTimeout(drawRiver, 500);
            }
            else if (cardCounter === 4) {
                riverDeck.pop();
                riverDeck.pop();
                card = mainDeck.shift();
                riverDeck.push(card);
                for (i = 0; i < 1; i++) {
                    card = hiddenCard;
                    riverDeck.push(card);
                }
                cardCounter++;
                renderAll();
                setTimeout(drawRiver, 500);
            }
            else if (cardCounter === 5) {
                riverDeck.pop();
                card = mainDeck.shift();
                riverDeck.push(card);
                cardCounter++;
                document.getElementById("makebet_button").innerText = "Check";
                document.getElementById("betup_button").style.visibility = "visible";
                document.getElementById("betdown_button").style.visibility = "visible";
                document.getElementById("makebet_button").style.visibility = "visible";
                document.getElementById("fold_button").style.visibility = "visible";
                renderAll();

                randDialoge = Math.floor(Math.random() * (dialogueStage1.length));
                dialogueSpace.innerText = dialogueStage1[randDialoge];

                updateDialogue();
            }
        }
        
        function oppEvalPair() {
            let conf = 0;
            let compare = [];
            if (oppDeck[0].PairValue === oppDeck[1].PairValue || oppDeck[0].PairValue === oppDeck[1].PairAlt) {
                compare.push(oppDeck[0].PairRank);
                compare.push(oppDeck[1].PairRank);
                conf = Math.max(...compare);

                if (testLog === true) {
                    console.log("Opp Eval - Pair Detected");
                }
            }
            else if (oppDeck[0].RankValue === oppDeck[1].RankValue + 1 || oppDeck[0].RankValue === oppDeck[1].RankValue - 1) {
                compare.push(oppDeck[0].RankValue);
                compare.push(oppDeck[0].RankAlt);
                compare.push(oppDeck[1].RankValue);
                compare.push(oppDeck[1].RankAlt);
                let num = Math.max(...compare);
                conf = Math.floor(num / 2);

                if (testLog === true) {
                    console.log("Opp Eval - Straight Detected");
                }
            }
            else if (oppDeck[0].Suit === oppDeck[1].Suit) {
                conf = 5;
            }
            let check = (Math.floor(Math.random() * 11) - 5);
            if (testLog === true) {
                console.log(oppDeck[0].Name + ", " + oppDeck[1].Name);
                console.log("Check: " + check);
                console.log("Confidence: " + conf);
            }

            let confCheck = check + conf;
            if (testLog === true) {
                console.log("Combined: " + confCheck);
            }

            let roll = Math.floor((Math.random() * 10) + 1);
            if (testLog === true) {
                console.log("Roll: " + roll);
                console.log("Bet Money: " + betMoney);
                console.log("Bet Money Units: " + (betMoney / 500));
            }

            let betBonus = Math.floor(Math.random() * (betMoney / 500))
            if (testLog === true) {
                console.log("Bet Bonus: " + betBonus);
            }

            roll += betBonus;
            if (testLog === true) {
                console.log("New Roll: " + roll);
            }

            if (confCheck > roll && playerMoney > 0) {
                stage = 1;
                console.log("-Stage 1-");
                if (testLog === true) {
                    console.log("Opp Eval - Bet");
                }

                let multi = Math.random();
                if (testLog === true) {
                    console.log("Multiplier: " + multi);
                }

                let bet = 500 * Math.ceil((multi * confCheck));
                if (testLog === true) {
                    console.log("$" + bet);
                }

                randDialoge = Math.floor(Math.random() * (dialogueRaise.length));
                dialogueSpace.innerText = dialogueRaise[randDialoge];

                if (bet > playerMoney) {
                    bet = playerMoney
                }

                oppBetMoney = betMoney + bet;
                betMoney = oppBetMoney;
                playerMoney += (0 - bet);
                saveValues();
                renderAll();

                document.getElementById("makebet_button").innerText = "Check";
                document.getElementById("betup_button").style.visibility = "visible";
                document.getElementById("betdown_button").style.visibility = "visible";
                document.getElementById("makebet_button").style.visibility = "visible";
                document.getElementById("fold_button").style.visibility = "visible";

                reportSpace.innerHTML = ``;
                reportSpace.innerHTML += `Opponent raises their bet to $ ${oppBetMoney}<br><br>`;
                if (handDeck.length !== 0) {
                    reportSpace.innerHTML += `Current Hand: `;
                    for (i = 0; i < handDeck.length; i++) {
                        if (handDeck[i].Type !== "hidden") {
                            reportSpace.innerHTML += `<span class="report_${handDeck[i].Colour}">${handDeck[i].Name}</span>, `;
                        }
                    }
                    reportSpace.innerHTML = reportSpace.innerHTML.slice(0, -2);
                    reportSpace.innerHTML += `<br><br>`;
                }
            }
            else if ((confCheck * 2) < roll) {
                if (Math.random() > 0.875) {
                    mainDeck = [];
                    riverDeck = [];
                    handDeck = [];
                    oppDeck = [];
                    oppShowDeck = [];
                    winDeck = [];
                    tieDeck = [];
                    playerMoney += betMoney;
                    playerMoney += potMoney;
                    let reportPot = potMoney;
                    betMoney = 0;
                    oppBetMoney = 0;
                    potMoney = 0;
                    stage = 0;
                    console.log("-Stage 0-");
                    saveValues();

                    document.getElementById("newtexhand_button").style.visibility = "visible";
                    document.getElementById("newfivehand_button").style.visibility = "visible";
                    document.getElementById("betup_button").style.visibility = "hidden";
                    document.getElementById("betdown_button").style.visibility = "hidden";
                    document.getElementById("makebet_button").style.visibility = "hidden";
                    document.getElementById("fold_button").style.visibility = "hidden";

                    randDialoge = Math.floor(Math.random() * (dialogueOppFold.length));
                    dialogueSpace.innerText = dialogueOppFold[randDialoge];

                    renderAll();

                    reportSpace.innerHTML = `Opponent folds!<br>You take the pot of <span class="money">$ ${reportPot.toLocaleString('en', {useGrouping:true})}</span>!<br><br>`;
                }
                else {
                    stage = 2;
                    console.log("-Stage 2-");
                    if (testLog === true) {
                        console.log("Opp Eval - Fold => Check");
                    }
                    randDialoge = Math.floor(Math.random() * (dialogueCheck.length));
                    dialogueSpace.innerText = dialogueCheck[randDialoge];

                    potMoney += betMoney * 2;
                    betMoney = 0;
                    oppBetMoney = 0;
                    renderAll();

                    cardCounter = 1;
                    drawRiver();
                }
            }
            else {
                stage = 2;
                console.log("-Stage 2-");
                if (testLog === true) {
                    console.log("Opp Eval - Check");
                }
                randDialoge = Math.floor(Math.random() * (dialogueCheck.length));
                dialogueSpace.innerText = dialogueCheck[randDialoge];

                potMoney += betMoney * 2;
                betMoney = 0;
                oppBetMoney = 0;
                renderAll();

                cardCounter = 1;
                drawRiver();
            }
        }
        
        function oppEvalBoard() {
            let oppHand = calculateHand("opp");
            let conf = oppHand[0];
            let check = (Math.floor(Math.random() * 11) - 5);
            let confCheck = check + conf;
            let roll = Math.floor((Math.random() * 10) + 1);
            roll += Math.floor(Math.random() * (betMoney / 500));
            if (confCheck > roll && playerMoney > 0) {
                stage = 3;
                console.log("-Stage 3-");
                if (testLog === true) {
                    console.log("Opp Eval - Bet");
                }

                let multi = Math.random();
                if (testLog === true) {
                    console.log("Multiplier: " + multi);
                }

                let bet = 500 * Math.ceil((multi * confCheck));
                if (testLog === true) {
                    console.log("$" + bet);
                }

                randDialoge = Math.floor(Math.random() * (dialogueRaise.length));
                dialogueSpace.innerText = dialogueRaise[randDialoge];

                if (bet > playerMoney) {
                    bet = playerMoney
                }

                oppBetMoney = betMoney + bet;
                betMoney = oppBetMoney;
                playerMoney += (0 - bet);
                saveValues();
                renderAll();

                document.getElementById("makebet_button").innerText = "Check";
                document.getElementById("betup_button").style.visibility = "visible";
                document.getElementById("betdown_button").style.visibility = "visible";
                document.getElementById("makebet_button").style.visibility = "visible";
                document.getElementById("fold_button").style.visibility = "visible";

                reportSpace.innerHTML = ``;
                reportSpace.innerHTML += `Opponent raises their bet to $ ${oppBetMoney}<br><br>`;
                if (handDeck.length !== 0) {
                    reportSpace.innerHTML += `Current Hand: `;
                    for (i = 0; i < handDeck.length; i++) {
                        if (handDeck[i].Type !== "hidden") {
                            reportSpace.innerHTML += `<span class="report_${handDeck[i].Colour}">${handDeck[i].Name}</span>, `;
                        }
                    }
                    reportSpace.innerHTML = reportSpace.innerHTML.slice(0, -2);
                    reportSpace.innerHTML += `<br><br>`;
                }
                reportSpace.innerHTML += `Board: `;
                for (i = 0; i < riverDeck.length; i++) {
                    if (riverDeck[i].Type !== "hidden") {
                        reportSpace.innerHTML += `<span class="report_${riverDeck[i].Colour}">${riverDeck[i].Name}</span>, `;
                    }
                }
                reportSpace.innerHTML = reportSpace.innerHTML.slice(0, -2);
                reportSpace.innerHTML += `<br><br>`;
            }
            else if ((confCheck * 2) < roll) {
                if (Math.random() > 0.875) {
                    mainDeck = [];
                    riverDeck = [];
                    handDeck = [];
                    oppDeck = [];
                    oppShowDeck = [];
                    winDeck = [];
                    tieDeck = [];
                    playerMoney += betMoney;
                    playerMoney += potMoney;
                    let reportPot = potMoney;
                    betMoney = 0;
                    oppBetMoney = 0;
                    potMoney = 0;
                    stage = 0;
                    console.log("-Stage 0-");
                    saveValues();

                    document.getElementById("newtexhand_button").style.visibility = "visible";
                    document.getElementById("newfivehand_button").style.visibility = "visible";
                    document.getElementById("betup_button").style.visibility = "hidden";
                    document.getElementById("betdown_button").style.visibility = "hidden";
                    document.getElementById("makebet_button").style.visibility = "hidden";
                    document.getElementById("fold_button").style.visibility = "hidden";

                    randDialoge = Math.floor(Math.random() * (dialogueOppFold.length));
                    dialogueSpace.innerText = dialogueOppFold[randDialoge];

                    renderAll();

                    reportSpace.innerHTML = `Opponent folds!<br>You take the pot of <span class="money">$ ${reportPot.toLocaleString('en', {useGrouping:true})}</span>!<br><br>`;
                }
                else {
                    stage = 4;
                    console.log("-Stage 4-");
                    if (testLog === true) {
                        console.log("Opp Eval - Fold => Check");
                    }
                    randDialoge = Math.floor(Math.random() * (dialogueCheck.length));
                    dialogueSpace.innerText = dialogueCheck[randDialoge];

                    potMoney += betMoney * 2;
                    betMoney = 0;
                    oppBetMoney = 0;
                    renderAll();

                    cardCounter = 1;
                    setTimeout(flipOpp, 500);
                }
            }
            else {
                stage = 4;
                console.log("-Stage 4-");
                if (testLog === true) {
                    console.log("Opp Eval - Check");
                }
                randDialoge = Math.floor(Math.random() * (dialogueCheck.length));
                dialogueSpace.innerText = dialogueCheck[randDialoge];

                potMoney += betMoney * 2;
                betMoney = 0;
                oppBetMoney = 0;
                renderAll();

                cardCounter = 1;
                setTimeout(flipOpp, 500);
            }
        }
        
        //Five Card Draw
        
        function drawFiveRound() {
            stage = 0;
            console.log("-Stage 0-");

            handSpace.className = "";
            handSpace.classList.add("river_space");
            oppShowSpace.className = "";
            oppShowSpace.classList.add("river_space");

            hold1 = 0;
            hold2 = 0;
            hold3 = 0;
            hold4 = 0;
            hold5 = 0;

            turnCounter++;
            randLover = Math.floor((Math.random() * 3));
            mainDeck = [];
            riverDeck = [];
            handDeck = [];
            oppDeck = [];
            oppShowDeck = [];
            winDeck = [];
            tieDeck = [];
            mainDeck = combineDecks();
            shuffleDeck();
            if (testLog === true) {
                console.log("Main Deck:");
                console.log(mainDeck);
            }

            playerMoney += -500;
            potMoney += 1000;
            saveValues();

            renderAll();

            for (i = 0; i < 5; i++) {
                let card = mainDeck.shift();
                oppDeck.push(card);
            }

            if (turnCounter === 1) {
                randDialoge = Math.floor(Math.random() * (dialogueDealNew.length));
                dialogueSpace.innerText = dialogueDealNew[randDialoge];
            }
            else {
                randDialoge = Math.floor(Math.random() * (dialogueDeal.length));
                dialogueSpace.innerText = dialogueDeal[randDialoge];
            }

            cardCounter = 0;
            setTimeout(drawFiveHand, 500);

            document.getElementById("newtexhand_button").style.visibility = "hidden";
            document.getElementById("newfivehand_button").style.visibility = "hidden";
            document.getElementById("win_cards1").style.visibility = "hidden";
            document.getElementById("win_cards2").style.visibility = "hidden";

            document.getElementById("makebet_button").innerText = "Check";
        }
        
        function drawFiveHand() {
            let card;
            if (cardCounter === 0) {
                card = mainDeck.shift();
                handDeck.push(card);
                cardCounter++;
                renderCards("hand");
                setTimeout(drawFiveHand, 500);
            }
            else if (cardCounter === 1) {
                card = mainDeck.shift();
                handDeck.push(card);
                cardCounter++;
                renderCards("hand");
                setTimeout(drawFiveHand, 500);
            }
            else if (cardCounter === 2) {
                card = mainDeck.shift();
                handDeck.push(card);
                cardCounter++;
                renderCards("hand");
                setTimeout(drawFiveHand, 500);
            }
            else if (cardCounter === 3) {
                card = mainDeck.shift();
                handDeck.push(card);
                cardCounter++;
                renderCards("hand");
                setTimeout(drawFiveHand, 500);
            }
            else if (cardCounter === 4) {
                card = mainDeck.shift();
                handDeck.push(card);
                cardCounter++;
                renderCards("hand");
                setTimeout(drawFiveHand, 500);
            }
            else if (cardCounter === 5) {
                card = hiddenCard;
                oppShowDeck.push(card);
                cardCounter++;
                renderCards("oppShow");
                setTimeout(drawFiveHand, 500);
            }
            else if (cardCounter === 6) {
                card = hiddenCard;
                oppShowDeck.push(card);
                cardCounter++;
                renderCards("oppShow");
                setTimeout(drawFiveHand, 500);
            }
            else if (cardCounter === 7) {
                card = hiddenCard;
                oppShowDeck.push(card);
                cardCounter++;
                renderCards("oppShow");
                setTimeout(drawFiveHand, 500);
            }
            else if (cardCounter === 8) {
                card = hiddenCard;
                oppShowDeck.push(card);
                cardCounter++;
                renderCards("oppShow");
                setTimeout(drawFiveHand, 500);
            }
            else if (cardCounter === 9) {
                card = hiddenCard;
                oppShowDeck.push(card);
                cardCounter++;
                document.getElementById("makebet_button").innerText = "Check";
                document.getElementById("betup_button").style.visibility = "visible";
                document.getElementById("betdown_button").style.visibility = "visible";
                document.getElementById("makebet_button").style.visibility = "visible";
                document.getElementById("fold_button").style.visibility = "visible";
                randDialoge = Math.floor(Math.random() * (dialogueNew.length));
                dialogueSpace.innerText = dialogueNew[randDialoge];

                renderAll();

                updateDialogue();
            }
        }
        
        function oppEvalFive() {
            cardPool = oppDeck.slice(0);
            groups = calculateGroups();
            if (testLog === true) {
                console.log("Opp Eval Groups:");
                console.log(groups);
            }

            let conf = 0;
            let compare = [];
            let pairVals = [];

            for (i = 0; i < groups.length; i++) {
                if (groups[i].Num !== 1) {
                    compare.push(groups[i].Rank);
                    pairVals.push(groups[i].Value);
                }
            }
            conf = Math.max(...compare);
            let check = (Math.floor(Math.random() * 11) - 5);
            let confCheck = check + conf;
            let roll = Math.floor((Math.random() * 10) + 1);
            roll += Math.floor(Math.random() * (betMoney / 500));

            oppHoldNum = 0;

            for (i = 0; i < pairVals.length; i++) {
                if (oppDeck[0].PairValue === pairVals[i] || oppDeck[0].PairAlt === pairVals[i]) {
                    oppHold1 = 1;
                }
                if (oppDeck[1].PairValue === pairVals[i] || oppDeck[1].PairAlt === pairVals[i]) {
                    oppHold2 = 1;
                }
                if (oppDeck[2].PairValue === pairVals[i] || oppDeck[2].PairAlt === pairVals[i]) {
                    oppHold3 = 1;
                }
                if (oppDeck[3].PairValue === pairVals[i] || oppDeck[3].PairAlt === pairVals[i]) {
                    oppHold4 = 1;
                }
                if (oppDeck[4].PairValue === pairVals[i] || oppDeck[4].PairAlt === pairVals[i]) {
                    oppHold5 = 1;
                }
            }

            let rand;
            if (oppHold1 === 1) {
                oppHoldNum++;
            }
            if (oppHold2 === 1) {
                oppHoldNum++;
            }
            if (oppHold3 === 1) {
                oppHoldNum++;
            }
            if (oppHold4 === 1) {
                oppHoldNum++;
            }
            if (oppHold5 === 1) {
                oppHoldNum++;
            }

            if (oppHoldNum === 0) {
                rand = Math.floor((Math.random() * 5) + 1);
                if (rand === 5) {
                    oppHold1 = 1;
                    oppHoldNum++;
                }
                rand = Math.floor((Math.random() * 5) + 1);
                if (rand === 5) {
                    oppHold2 = 1;
                    oppHoldNum++;
                }
                rand = Math.floor((Math.random() * 5) + 1);
                if (rand === 5) {
                    oppHold3 = 1;
                    oppHoldNum++;
                }
                rand = Math.floor((Math.random() * 5) + 1);
                if (rand === 5) {
                    oppHold4 = 1;
                    oppHoldNum++;
                }
                rand = Math.floor((Math.random() * 5) + 1);
                if (rand === 5) {
                    oppHold5 = 1;
                    oppHoldNum++;
                }
            }

            if (testLog === true) {
            console.log("Hold 1: " + oppHold1 + " Hold 2: " + oppHold2 + " Hold 3: "+ oppHold3 + " Hold 4: "+ oppHold4 + " Hold 5: "+ oppHold5);
            console.log("Hold Num: " + oppHoldNum);
            }

            if (confCheck > roll && playerMoney > 0) {
                stage = 1;
                console.log("-Stage 1-");
                if (testLog === true) {
                    console.log("Opp Eval - Bet");
                }

                let multi = Math.random();
                if (testLog === true) {
                    console.log("Multiplier: " + multi);
                }

                let bet = 500 * Math.ceil((multi * confCheck));
                if (testLog === true) {
                    console.log("$" + bet);
                }

                randDialoge = Math.floor(Math.random() * (dialogueRaise.length));
                dialogueSpace.innerText = dialogueRaise[randDialoge];

                if (bet > playerMoney) {
                    bet = playerMoney
                }

                oppBetMoney = betMoney + bet;
                betMoney = oppBetMoney;
                playerMoney += (0 - bet);
                saveValues();
                renderAll();

                document.getElementById("makebet_button").innerText = "Check";
                document.getElementById("betup_button").style.visibility = "visible";
                document.getElementById("betdown_button").style.visibility = "visible";
                document.getElementById("makebet_button").style.visibility = "visible";
                document.getElementById("fold_button").style.visibility = "visible";

                reportSpace.innerHTML = ``;
                reportSpace.innerHTML += `Opponent raises their bet to $ ${oppBetMoney}<br><br>`;
                if (handDeck.length !== 0) {
                    reportSpace.innerHTML += `Current Hand: `;
                    for (i = 0; i < handDeck.length; i++) {
                        if (handDeck[i].Type !== "hidden") {
                            reportSpace.innerHTML += `<span class="report_${handDeck[i].Colour}">${handDeck[i].Name}</span>, `;
                        }
                    }
                    reportSpace.innerHTML = reportSpace.innerHTML.slice(0, -2);
                    reportSpace.innerHTML += `<br><br>`;
                }
            }
            else if ((confCheck * 2) < roll) {
                if (Math.random() > 0.875) {
                    mainDeck = [];
                    riverDeck = [];
                    handDeck = [];
                    oppDeck = [];
                    oppShowDeck = [];
                    winDeck = [];
                    tieDeck = [];
                    playerMoney += betMoney;
                    playerMoney += potMoney;
                    let reportPot = potMoney;
                    betMoney = 0;
                    oppBetMoney = 0;
                    potMoney = 0;
                    stage = 0;
                    console.log("-Stage 0-");
                    saveValues();

                    document.getElementById("newtexhand_button").style.visibility = "visible";
                    document.getElementById("newfivehand_button").style.visibility = "visible";
                    document.getElementById("betup_button").style.visibility = "hidden";
                    document.getElementById("betdown_button").style.visibility = "hidden";
                    document.getElementById("makebet_button").style.visibility = "hidden";
                    document.getElementById("fold_button").style.visibility = "hidden";

                    randDialoge = Math.floor(Math.random() * (dialogueOppFold.length));
                    dialogueSpace.innerText = dialogueOppFold[randDialoge];

                    renderAll();

                    reportSpace.innerHTML = `Opponent folds!<br>You take the pot of <span class="money">$ ${reportPot.toLocaleString('en', {useGrouping:true})}</span>!<br><br>`;
                }
                else {
                    stage = 2;
                    console.log("-Stage 2-");
                    if (testLog === true) {
                        console.log("Opp Eval - Fold => Check");
                    }
                    randDialoge = Math.floor(Math.random() * (dialogueCheck.length));
                    dialogueSpace.innerText = dialogueCheck[randDialoge];

                    potMoney += betMoney * 2;
                    betMoney = 0;
                    oppBetMoney = 0;
                    renderAll();

                    cardCounter = 1;

                    /*
                    document.getElementById("betup_button").style.display = "none";
                    document.getElementById("betdown_button").style.display = "none";
                    document.getElementById("makebet_button").style.display = "none";
                    document.getElementById("fold_button").style.display = "none";

                    document.getElementById("hold1_button").removeAttribute("hidden");
                    document.getElementById("hold2_button").removeAttribute("hidden");
                    document.getElementById("hold3_button").removeAttribute("hidden");
                    document.getElementById("hold4_button").removeAttribute("hidden");
                    document.getElementById("hold5_button").removeAttribute("hidden");
                    document.getElementById("holddeal_button").removeAttribute("hidden");
                    */

                    document.getElementById("hold1_button").classList.remove("holdb");
                    document.getElementById("hold2_button").classList.remove("holdb");
                    document.getElementById("hold3_button").classList.remove("holdb");
                    document.getElementById("hold4_button").classList.remove("holdb");
                    document.getElementById("hold5_button").classList.remove("holdb");

                    document.getElementById("buttons2").style.display = "none";
                    document.getElementById("buttons3").style.display = "block";

                    document.getElementById("hold1_button").style.visibility = "visible";
                    document.getElementById("hold2_button").style.visibility = "visible";
                    document.getElementById("hold3_button").style.visibility = "visible";
                    document.getElementById("hold4_button").style.visibility = "visible";
                    document.getElementById("hold5_button").style.visibility = "visible";
                    document.getElementById("holddeal_button").style.visibility = "visible";

                    if (testLog === true) {
                        console.log("Hold Button Check");
                    }
                }
            }
            else {
                stage = 2;
                console.log("-Stage 2-");
                if (testLog === true) {
                    console.log("Opp Check");
                }

                randDialoge = Math.floor(Math.random() * (dialogueCheck.length));
                dialogueSpace.innerText = dialogueCheck[randDialoge];

                potMoney += betMoney * 2;
                betMoney = 0;
                oppBetMoney = 0;
                renderAll();

                cardCounter = 1;

                /*
                document.getElementById("betup_button").style.display = "none";
                document.getElementById("betdown_button").style.display = "none";
                document.getElementById("makebet_button").style.display = "none";
                document.getElementById("fold_button").style.display = "none";

                document.getElementById("hold1_button").removeAttribute("hidden");
                document.getElementById("hold2_button").removeAttribute("hidden");
                document.getElementById("hold3_button").removeAttribute("hidden");
                document.getElementById("hold4_button").removeAttribute("hidden");
                document.getElementById("hold5_button").removeAttribute("hidden");
                document.getElementById("holddeal_button").removeAttribute("hidden");
                */

                document.getElementById("hold1_button").classList.remove("holdb");
                document.getElementById("hold2_button").classList.remove("holdb");
                document.getElementById("hold3_button").classList.remove("holdb");
                document.getElementById("hold4_button").classList.remove("holdb");
                document.getElementById("hold5_button").classList.remove("holdb");

                document.getElementById("buttons2").style.display = "none";
                document.getElementById("buttons3").style.display = "block";

                document.getElementById("hold1_button").style.visibility = "visible";
                document.getElementById("hold2_button").style.visibility = "visible";
                document.getElementById("hold3_button").style.visibility = "visible";
                document.getElementById("hold4_button").style.visibility = "visible";
                document.getElementById("hold5_button").style.visibility = "visible";
                document.getElementById("holddeal_button").style.visibility = "visible";

                if (testLog === true) {
                    console.log("Hold Button Check");
                }
            }
            
        }
        
        function holdCard1() {
            if (hold1 === 0) {
                document.getElementById("hand_0").classList.add("hold");
                document.getElementById("hold1_button").classList.add("holdb");
                hold1 = 1;
            }
            else {
                document.getElementById("hand_0").classList.remove("hold");
                document.getElementById("hold1_button").classList.remove("holdb");
                hold1 = 0;
            }
        }

        function holdCard2() {
            if (hold2 === 0) {
                document.getElementById("hand_1").classList.add("hold");
                document.getElementById("hold2_button").classList.add("holdb");
                hold2 = 1;
            }
            else {
                document.getElementById("hand_1").classList.remove("hold");
                document.getElementById("hold2_button").classList.remove("holdb");
                hold2 = 0;
            }
        }

        function holdCard3() {
            if (hold3 === 0) {
                document.getElementById("hand_2").classList.add("hold");
                document.getElementById("hold3_button").classList.add("holdb");
                hold3 = 1;
            }
            else {
                document.getElementById("hand_2").classList.remove("hold");
                document.getElementById("hold3_button").classList.remove("holdb");
                hold3 = 0;
            }
        }

        function holdCard4() {
            if (hold4 === 0) {
                document.getElementById("hand_3").classList.add("hold");
                document.getElementById("hold4_button").classList.add("holdb");
                hold4 = 1;
            }
            else {
                document.getElementById("hand_3").classList.remove("hold");
                document.getElementById("hold4_button").classList.remove("holdb");
                hold4 = 0;
            }
        }

        function holdCard5() {
            if (hold5 === 0) {
                document.getElementById("hand_4").classList.add("hold");
                document.getElementById("hold5_button").classList.add("holdb");
                hold5 = 1;
            }
            else {
                document.getElementById("hand_4").classList.remove("hold");
                document.getElementById("hold5_button").classList.remove("holdb");
                hold5 = 0;
            }
        }
        
        function holdDealStart() {
            if (oppHold1 === 1) {
                let card = mainDeck.shift();
                oppDeck[0] = card;
            }
            if (oppHold2 === 1) {
                let card = mainDeck.shift();
                oppDeck[1] = card;
            }
            if (oppHold3 === 1) {
                let card = mainDeck.shift();
                oppDeck[2] = card;
            }
            if (oppHold4 === 1) {
                let card = mainDeck.shift();
                oppDeck[3] = card;
            }
            if (oppHold5 === 1) {
                let card = mainDeck.shift();
                oppDeck[4] = card;
            }

            document.getElementById("hand_0").classList.remove("hold");
            document.getElementById("hand_1").classList.remove("hold");
            document.getElementById("hand_2").classList.remove("hold");
            document.getElementById("hand_3").classList.remove("hold");
            document.getElementById("hand_4").classList.remove("hold");

            
            document.getElementById("hold1_button").style.visibility = "hidden";
            document.getElementById("hold2_button").style.visibility = "hidden";
            document.getElementById("hold3_button").style.visibility = "hidden";
            document.getElementById("hold4_button").style.visibility = "hidden";
            document.getElementById("hold5_button").style.visibility = "hidden";
            document.getElementById("holddeal_button").style.visibility = "hidden";
            
            reportSpace.innerHTML = `Current Hand: `;
            setTimeout(holdDeal, 500);
        }
        
        function holdDeal() {

            if (hold1 === 0) {
                handDeck[0] = hiddenCard;
                renderCards("hand");
                hold1 = 2;
                setTimeout(holdDeal, 500);
            }
            else if (hold2 === 0) {
                handDeck[1] = hiddenCard;
                renderCards("hand");
                hold2 = 2;
                setTimeout(holdDeal, 500);
            }
            else if (hold3 === 0) {
                handDeck[2] = hiddenCard;
                renderCards("hand");
                hold3 = 2;
                setTimeout(holdDeal, 500);
            }
            else if (hold4 === 0) {
                handDeck[3] = hiddenCard;
                renderCards("hand");
                hold4 = 2;
                setTimeout(holdDeal, 500);
            }
            else if (hold5 === 0) {
                handDeck[4] = hiddenCard;
                renderCards("hand");
                hold5 = 2;
                setTimeout(holdDeal, 500);
            }
            else if (hold1 === 2) {
                let card = mainDeck.shift();
                handDeck[0] = card;
                renderCards("hand");
                hold1 = 1;
                setTimeout(holdDeal, 500);
            }
            else if (hold2 === 2) {
                let card = mainDeck.shift();
                handDeck[1] = card;
                renderCards("hand");
                hold2 = 1;
                setTimeout(holdDeal, 500);
            }
            else if (hold3 === 2) {
                let card = mainDeck.shift();
                handDeck[2] = card;
                renderCards("hand");
                hold3 = 1;
                setTimeout(holdDeal, 500);
            }
            else if (hold4 === 2) {
                let card = mainDeck.shift();
                handDeck[3] = card;
                renderCards("hand");
                hold4 = 1;
                setTimeout(holdDeal, 500);
            }
            else if (hold5 === 2) {
                let card = mainDeck.shift();
                handDeck[4] = card;
                renderCards("hand");
                hold5 = 1;
                setTimeout(holdDeal, 500);
            }
            else if (oppHoldNum < 5) {
                oppDrawNum = 5 - oppHoldNum;
                drawNumReport = oppDrawNum;
                for (i = 0; i < (oppDrawNum); i++) {
                    oppShowDeck.pop();
                }
                oppHoldNum = 5;
                renderCards("oppShow");
                setTimeout(holdDeal, 500);
            }
            else if (oppDrawNum > 0) {
                oppDrawNum += -1;
                oppShowDeck.push(hiddenCard);
                renderCards("oppShow");
                setTimeout(holdDeal, 500);
            }
            else {
                /*
                document.getElementById("makebet_button").innerText = "Check";
                document.getElementById("betup_button").style.display = "initial";
                document.getElementById("betdown_button").style.display = "initial";
                document.getElementById("makebet_button").style.display = "initial";
                document.getElementById("fold_button").style.display = "initial";
                document.getElementById("betup_button").style.visibility = "visible";
                document.getElementById("betdown_button").style.visibility = "visible";
                document.getElementById("makebet_button").style.visibility = "visible";
                document.getElementById("fold_button").style.visibility = "visible";

                document.getElementById("hold1_button").hidden = true;
                document.getElementById("hold2_button").hidden = true;
                document.getElementById("hold3_button").hidden = true;
                document.getElementById("hold4_button").hidden = true;
                document.getElementById("hold5_button").hidden = true;
                document.getElementById("holddeal_button").hidden = true;
                */

                if (testLog === true) {
                    console.log("New hands drawn");
                }

                document.getElementById("buttons2").style.display = "block";
                document.getElementById("buttons3").style.display = "none";

                document.getElementById("makebet_button").innerText = "Check";
                document.getElementById("betup_button").style.visibility = "visible";
                document.getElementById("betdown_button").style.visibility = "visible";
                document.getElementById("makebet_button").style.visibility = "visible";
                document.getElementById("fold_button").style.visibility = "visible";

                renderAll();

                reportSpace.innerHTML = ``;
                if (drawNumReport === 0) {
                    reportSpace.innerHTML += `Opponent keeps their initial hand<br><br>`;
                }
                else if (drawNumReport === 1) {
                    reportSpace.innerHTML += `Opponent discards and draws ${drawNumReport} card<br><br>`;
                }
                else {
                    reportSpace.innerHTML += `Opponent discards and draws ${drawNumReport} cards<br><br>`;
                }
                
                if (handDeck.length !== 0) {
                    reportSpace.innerHTML += `Current Hand: `;
                    for (i = 0; i < handDeck.length; i++) {
                        if (handDeck[i].Type !== "hidden") {
                            reportSpace.innerHTML += `<span class="report_${handDeck[i].Colour}">${handDeck[i].Name}</span>, `;
                        }
                    }
                    reportSpace.innerHTML = reportSpace.innerHTML.slice(0, -2);
                    reportSpace.innerHTML += `<br><br>`;
                }

                randDialoge = Math.floor(Math.random() * (dialogueStage1.length));
                dialogueSpace.innerText = dialogueStage1[randDialoge];
            }
        }
        
        function oppEvalFiveFinal() {
            let oppHand = calculateHand("opp");
            let conf = oppHand[0];
            let check = (Math.floor((Math.random() * 11)) - 5);
            let confCheck = check + conf;
            let roll = Math.floor((Math.random() * 10) + 1);
            roll += Math.floor(Math.random() * (betMoney / 500));
            if (confCheck > roll && playerMoney > 0) {
                stage = 3;
                console.log("-Stage 3-");
                if (testLog === true) {
                    console.log("Opp Eval - Bet");
                }

                let multi = Math.random();
                if (testLog === true) {
                    console.log("Multiplier: " + multi);
                }

                let bet = 500 * Math.ceil((multi * confCheck));
                if (testLog === true) {
                    console.log("$" + bet);
                }

                randDialoge = Math.floor(Math.random() * (dialogueRaise.length));
                dialogueSpace.innerText = dialogueRaise[randDialoge];

                if (bet > playerMoney) {
                    bet = playerMoney
                }

                oppBetMoney = betMoney + bet;
                betMoney = oppBetMoney;
                playerMoney += (0 - bet);
                saveValues();
                renderAll();

                document.getElementById("makebet_button").innerText = "Check";
                document.getElementById("betup_button").style.visibility = "visible";
                document.getElementById("betdown_button").style.visibility = "visible";
                document.getElementById("makebet_button").style.visibility = "visible";
                document.getElementById("fold_button").style.visibility = "visible";

                reportSpace.innerHTML = ``;
                reportSpace.innerHTML += `Opponent raises their bet to $ ${oppBetMoney}<br><br>`;
                if (handDeck.length !== 0) {
                    reportSpace.innerHTML += `Current Hand: `;
                    for (i = 0; i < handDeck.length; i++) {
                        if (handDeck[i].Type !== "hidden") {
                            reportSpace.innerHTML += `<span class="report_${handDeck[i].Colour}">${handDeck[i].Name}</span>, `;
                        }
                    }
                    reportSpace.innerHTML = reportSpace.innerHTML.slice(0, -2);
                    reportSpace.innerHTML += `<br><br>`;
                }
            }
            else if ((confCheck * 2) < roll) {
                if (Math.random() > 0.875) {
                    mainDeck = [];
                    riverDeck = [];
                    handDeck = [];
                    oppDeck = [];
                    oppShowDeck = [];
                    winDeck = [];
                    tieDeck = [];
                    playerMoney += betMoney;
                    playerMoney += potMoney;
                    let reportPot = potMoney;
                    betMoney = 0;
                    oppBetMoney = 0;
                    potMoney = 0;
                    stage = 0;
                    console.log("-Stage 0-");
                    saveValues();

                    document.getElementById("newtexhand_button").style.visibility = "visible";
                    document.getElementById("newfivehand_button").style.visibility = "visible";
                    document.getElementById("betup_button").style.visibility = "hidden";
                    document.getElementById("betdown_button").style.visibility = "hidden";
                    document.getElementById("makebet_button").style.visibility = "hidden";
                    document.getElementById("fold_button").style.visibility = "hidden";

                    randDialoge = Math.floor(Math.random() * (dialogueOppFold.length));
                    dialogueSpace.innerText = dialogueOppFold[randDialoge];

                    renderAll();

                    reportSpace.innerHTML = `Opponent folds!<br>You take the pot of <span class="money">$ ${reportPot.toLocaleString('en', {useGrouping:true})}</span>!<br><br>`;
                }
                else {
                    stage = 4;
                    console.log("-Stage 4-");
                    if (testLog === true) {
                    console.log("Opp Eval - Fold => Check");
                    }
                    randDialoge = Math.floor(Math.random() * (dialogueCheck.length));
                    dialogueSpace.innerText = dialogueCheck[randDialoge];

                    potMoney += betMoney * 2;
                    betMoney = 0;
                    oppBetMoney = 0;
                    renderAll();

                    cardCounter = 1;
                    setTimeout(flipOpp, 500);
                }
            }
            else {
                stage = 4;
                console.log("-Stage 4-");
                if (testLog === true) {
                    console.log("Opp Eval - Check");
                }
                randDialoge = Math.floor(Math.random() * (dialogueCheck.length));
                dialogueSpace.innerText = dialogueCheck[randDialoge];

                potMoney += betMoney * 2;
                betMoney = 0;
                oppBetMoney = 0;
                renderAll();

                cardCounter = 1;
                setTimeout(flipOpp, 500);
            }
        }
        
        
        //Shared Functions
        
        function checkRaise() {
            if (handDeck.length === 2) {
                if (stage === 0) {
                    randDialoge = Math.floor(Math.random() * (dialogueThink.length));
                    dialogueSpace.innerText = dialogueThink[randDialoge];

                    renderAll();

                    document.getElementById("betup_button").style.visibility = "hidden";
                    document.getElementById("betdown_button").style.visibility = "hidden";
                    document.getElementById("makebet_button").style.visibility = "hidden";
                    document.getElementById("fold_button").style.visibility = "hidden";

                    setTimeout(oppEvalPair, 2000);

                }
                else if (stage === 1) {
                    if (betMoney > oppBetMoney) {
                        randDialoge = Math.floor(Math.random() * (dialogueThink.length));
                        dialogueSpace.innerText = dialogueThink[randDialoge];

                        renderAll();

                        document.getElementById("betup_button").style.visibility = "hidden";
                        document.getElementById("betdown_button").style.visibility = "hidden";
                        document.getElementById("makebet_button").style.visibility = "hidden";
                        document.getElementById("fold_button").style.visibility = "hidden";

                        setTimeout(oppEvalPair, 2000);
                    }
                    else {

                        document.getElementById("betup_button").style.visibility = "hidden";
                        document.getElementById("betdown_button").style.visibility = "hidden";
                        document.getElementById("makebet_button").style.visibility = "hidden";
                        document.getElementById("fold_button").style.visibility = "hidden";

                        if (testLog === true) {
                            console.log("Player Check");
                        }
                        randDialoge = Math.floor(Math.random() * (dialogueChecked.length));
                        dialogueSpace.innerText = dialogueChecked[randDialoge];
                        
                        stage = 2;
                        console.log("-Stage 2-");

                        potMoney += betMoney * 2;
                        betMoney = 0;
                        oppBetMoney = 0;
                        renderAll();

                        cardCounter = 1;
                        drawRiver();
                    }
                }
                else if (stage === 2) {

                    randDialoge = Math.floor(Math.random() * (dialogueThink.length));
                    dialogueSpace.innerText = dialogueThink[randDialoge];

                    renderAll();

                    document.getElementById("betup_button").style.visibility = "hidden";
                    document.getElementById("betdown_button").style.visibility = "hidden";
                    document.getElementById("makebet_button").style.visibility = "hidden";
                    document.getElementById("fold_button").style.visibility = "hidden";

                    setTimeout(oppEvalBoard, 2000);

                }
                else if (stage === 3) {
                    if (betMoney > oppBetMoney) {
                        randDialoge = Math.floor(Math.random() * (dialogueThink.length));
                        dialogueSpace.innerText = dialogueThink[randDialoge];

                        renderAll();

                        document.getElementById("betup_button").style.visibility = "hidden";
                        document.getElementById("betdown_button").style.visibility = "hidden";
                        document.getElementById("makebet_button").style.visibility = "hidden";
                        document.getElementById("fold_button").style.visibility = "hidden";

                        setTimeout(oppEvalBoard, 2000);
                    }
                    else {
                        stage = 4;
                        console.log("-Stage 4-");

                        renderAll();

                        document.getElementById("betup_button").style.visibility = "hidden";
                        document.getElementById("betdown_button").style.visibility = "hidden";
                        document.getElementById("makebet_button").style.visibility = "hidden";
                        document.getElementById("fold_button").style.visibility = "hidden";

                        if (testLog === true) {
                            console.log("Player Check");
                        }
                        randDialoge = Math.floor(Math.random() * (dialogueChecked.length));
                        dialogueSpace.innerText = dialogueChecked[randDialoge];

                        potMoney += betMoney * 2;
                        betMoney = 0;
                        oppBetMoney = 0;
                        renderAll();

                        setTimeout(flipOpp, 2000);
                    }
                }
            }
            else {
                if (stage === 0) {

                    randDialoge = Math.floor(Math.random() * (dialogueThink.length));
                    dialogueSpace.innerText = dialogueThink[randDialoge];

                    renderAll();

                    document.getElementById("betup_button").style.visibility = "hidden";
                    document.getElementById("betdown_button").style.visibility = "hidden";
                    document.getElementById("makebet_button").style.visibility = "hidden";
                    document.getElementById("fold_button").style.visibility = "hidden";

                    setTimeout(oppEvalFive, 2000);

                }
                else if (stage === 1) {
                    if (betMoney > oppBetMoney) {
                        randDialoge = Math.floor(Math.random() * (dialogueThink.length));
                        dialogueSpace.innerText = dialogueThink[randDialoge];

                        renderAll();

                        document.getElementById("betup_button").style.visibility = "hidden";
                        document.getElementById("betdown_button").style.visibility = "hidden";
                        document.getElementById("makebet_button").style.visibility = "hidden";
                        document.getElementById("fold_button").style.visibility = "hidden";

                        setTimeout(oppEvalFive, 2000);
                    }
                    else {
                        stage = 2;
                        console.log("-Stage 2-");
                        if (testLog === true) {
                            console.log("Player Check");
                        }
                        randDialoge = Math.floor(Math.random() * (dialogueChecked.length));
                        dialogueSpace.innerText = dialogueChecked[randDialoge];

                        potMoney += betMoney * 2;
                        betMoney = 0;
                        oppBetMoney = 0;
                        renderAll();

                        cardCounter = 1;

                        /*
                        document.getElementById("betup_button").style.display = "none";
                        document.getElementById("betdown_button").style.display = "none";
                        document.getElementById("makebet_button").style.display = "none";
                        document.getElementById("fold_button").style.display = "none";

                        document.getElementById("hold1_button").removeAttribute("hidden");
                        document.getElementById("hold2_button").removeAttribute("hidden");
                        document.getElementById("hold3_button").removeAttribute("hidden");
                        document.getElementById("hold4_button").removeAttribute("hidden");
                        document.getElementById("hold5_button").removeAttribute("hidden");
                        document.getElementById("holddeal_button").removeAttribute("hidden");
                        */

                        document.getElementById("hold1_button").classList.remove("holdb");
                        document.getElementById("hold2_button").classList.remove("holdb");
                        document.getElementById("hold3_button").classList.remove("holdb");
                        document.getElementById("hold4_button").classList.remove("holdb");
                        document.getElementById("hold5_button").classList.remove("holdb");

                        document.getElementById("buttons2").style.display = "none";
                        document.getElementById("buttons3").style.display = "block";

                        document.getElementById("hold1_button").style.visibility = "visible";
                        document.getElementById("hold2_button").style.visibility = "visible";
                        document.getElementById("hold3_button").style.visibility = "visible";
                        document.getElementById("hold4_button").style.visibility = "visible";
                        document.getElementById("hold5_button").style.visibility = "visible";
                        document.getElementById("holddeal_button").style.visibility = "visible";

                        if (testLog === true) {
                            console.log("Hold Button Check");
                        }
                    }
                }
                else if (stage === 2) {

                    randDialoge = Math.floor(Math.random() * (dialogueThink.length));
                    dialogueSpace.innerText = dialogueThink[randDialoge];

                    renderAll();

                    document.getElementById("betup_button").style.visibility = "hidden";
                    document.getElementById("betdown_button").style.visibility = "hidden";
                    document.getElementById("makebet_button").style.visibility = "hidden";
                    document.getElementById("fold_button").style.visibility = "hidden";

                    setTimeout(oppEvalFiveFinal, 2000);

                }
                else if (stage === 3) {
                    if (betMoney > oppBetMoney) {
                        randDialoge = Math.floor(Math.random() * (dialogueThink.length));
                        dialogueSpace.innerText = dialogueThink[randDialoge];

                        renderAll();

                        document.getElementById("betup_button").style.visibility = "hidden";
                        document.getElementById("betdown_button").style.visibility = "hidden";
                        document.getElementById("makebet_button").style.visibility = "hidden";
                        document.getElementById("fold_button").style.visibility = "hidden";

                        setTimeout(oppEvalFiveFinal, 2000);
                    }
                    else {
                        stage = 4;
                        console.log("-Stage 4-");

                        renderAll();

                        document.getElementById("betup_button").style.visibility = "hidden";
                        document.getElementById("betdown_button").style.visibility = "hidden";
                        document.getElementById("makebet_button").style.visibility = "hidden";
                        document.getElementById("fold_button").style.visibility = "hidden";

                        if (testLog === true) {
                            console.log("Player Check");
                        }
                        randDialoge = Math.floor(Math.random() * (dialogueChecked.length));
                        dialogueSpace.innerText = dialogueChecked[randDialoge];

                        potMoney += betMoney * 2;
                        betMoney = 0;
                        oppBetMoney = 0;
                        renderAll();

                        setTimeout(flipOpp, 2000);
                    }
                }
            }
        }
        
        function increaseBet() {
            if (playerMoney !== 0) {
                playerMoney += -500;
                betMoney += 500;
            }
            if (betMoney > oppBetMoney) {
                document.getElementById("makebet_button").innerText = "Raise";
            }
            else {
                document.getElementById("makebet_button").innerText = "Check";
            }
            renderMoney();
        }

        function decreaseBet() {
            if (betMoney !== 0 && betMoney !== oppBetMoney) {
                playerMoney += 500;
                betMoney += -500;
            }
            if (betMoney > oppBetMoney) {
                document.getElementById("makebet_button").innerText = "Raise";
            }
            else {
                document.getElementById("makebet_button").innerText = "Check";
            }
            renderMoney();
        }
        
        function foldHand() {
            mainDeck = [];
            riverDeck = [];
            handDeck = [];
            oppDeck = [];
            oppShowDeck = [];
            winDeck = [];
            tieDeck = [];
            playerMoney += betMoney;
            let reportPot = potMoney;
            betMoney = 0;
            oppBetMoney = 0;
            potMoney = 0;
            stage = 0;
            console.log("-Stage 0-");
            saveValues();

            document.getElementById("newtexhand_button").style.visibility = "visible";
            document.getElementById("newfivehand_button").style.visibility = "visible";
            document.getElementById("betup_button").style.visibility = "hidden";
            document.getElementById("betdown_button").style.visibility = "hidden";
            document.getElementById("makebet_button").style.visibility = "hidden";
            document.getElementById("fold_button").style.visibility = "hidden";

            randDialoge = Math.floor(Math.random() * (dialogueFold.length));
            dialogueSpace.innerText = dialogueFold[randDialoge];

            renderAll();

            reportSpace.innerHTML = `You fold!<br>Your opponent takes the pot of <span class="money">$ ${reportPot.toLocaleString('en', {useGrouping:true})}</span>!<br><br>`;
        }
        
        function flipOpp() {
            oppShowDeck = [];

            for (i = 0; i < oppDeck.length; i++) {
                let card = oppDeck[i];
                oppShowDeck.push(card);
            }
            renderAll();
            setTimeout(compareHands, 500);
        }
        
        function compareHands() {

            if (testLog === true) {
                if (handDeck.length === 2) {
                    console.log("####################################");
                    console.log("Opponent Pair:");
                    console.log(oppDeck[0].Name + ", " + oppDeck[1].Name);
                    console.log("River:");
                    console.log(riverDeck[0].Name + ", " + riverDeck[1].Name + ", " + riverDeck[2].Name + ", " + riverDeck[3].Name + ", " + riverDeck[4].Name);
                    console.log("Player Pair:");
                    console.log(handDeck[0].Name + ", " + handDeck[1].Name);
                    console.log("####################################");
                }
                else {
                    console.log("####################################");
                    console.log("Opponent Hand:");
                    console.log(oppDeck[0].Name + ", " + oppDeck[1].Name + ", " + oppDeck[2].Name + ", " + oppDeck[3].Name + ", " + oppDeck[4].Name);
                    console.log("Player Hand:");
                    console.log(handDeck[0].Name + ", " + handDeck[1].Name + ", " + handDeck[2].Name + ", " + handDeck[3].Name + ", " + handDeck[4].Name);
                    console.log("####################################");
                }
            }

            let playerHand = calculateHand("hand");
            let oppHand = calculateHand("opp");
            //################################
            /*
            mainDeck = [];
            riverDeck = [];
            handDeck = [];
            oppDeck = [];
            oppShowDeck = [];
            //mainDeck = genPlayingDeck();
            mainDeck = combineDecks();
            shuffleDeck();
            console.log(mainDeck);

            for (i = 0; i < 2; i++) {
                let card = mainDeck.shift();
                handDeck.push(card);
            }

            for (i = 0; i < 2; i++) {
                let card = mainDeck.shift();
                oppDeck.push(card);
            }

            for (i = 0; i < 2; i++) {
                let card = hiddenCard;
                oppShowDeck.push(card);
            }

            for (i = 0; i < 5; i++) {
                let card = mainDeck.shift();
                riverDeck.push(card);
            }
            */
            console.log("Player Hand:");
            console.log(playerHand);
            console.log(playerHand[1].Name + ", " + playerHand[2].Name + ", " + playerHand[3].Name + ", " + playerHand[4].Name + ", " + playerHand[5].Name);
            console.log("Opponent Hand:");
            console.log(oppHand);
            console.log(oppHand[1].Name + ", " + oppHand[2].Name + ", " + oppHand[3].Name + ", " + oppHand[4].Name + ", " + oppHand[5].Name);
            console.log("####################################");
            //################################

            let winningHand;
            let winner;
            if (playerHand[0] > oppHand[0]) {
                winningHand = playerHand;
                winner = "Player";
            }
            else if (playerHand[0] === oppHand[0]) {

                console.log("Same Hand Type Detected");

                if (playerHand[0] === 10) {
                    let pCard = playerHand[1];
                    let oCard = oppHand[1];
                    if (pCard.PairRank > oCard.PairRank) {
                        winningHand = playerHand;
                        winner = "Player";
                    }
                    else if (pCard.PairRank === oCard.PairRank) {
                        winningHand = "No Winner";
                        winner = "Tie";
                    }
                    else {
                        winningHand = oppHand;
                        winner = "Opponent";
                    }
                }

                else if (playerHand[0] === 9) {
                    let pCard = playerHand[1];
                    let oCard = oppHand[1];
                    if (pCard.RankValue > oCard.RankValue) {
                        winningHand = playerHand;
                        winner = "Player";
                    }
                    else if (pCard.RankValue === oCard.RankValue) {
                        winningHand = "No Winner";
                        winner = "Tie";
                    }
                    else {
                        winningHand = oppHand;
                        winner = "Opponent";
                    }
                }

                else if (playerHand[0] === 8) {
                    let pCard = playerHand[1];
                    let oCard = oppHand[1];
                    if (pCard.PairRank > oCard.PairRank) {
                        winningHand = playerHand;
                        winner = "Player";
                    }
                    else if (pCard.PairRank === oCard.PairRank) {
                        pCard = playerHand[5];
                        oCard = oppHand[5];
                        if (pCard.PairRank > oCard.PairRank) {
                            winningHand = playerHand;
                            winner = "Player";
                        }
                        else if (pCard.PairRank === oCard.PairRank) {
                            winningHand = "No Winner";
                            winner = "Tie";
                        }
                        else {
                            winningHand = oppHand;
                            winner = "Opponent"; 
                        }
                    }
                    else {
                        winningHand = oppHand;
                        winner = "Opponent";
                    }
                }

                else if (playerHand[0] === 7) {
                    let pCard = playerHand[1];
                    let oCard = oppHand[1];
                    if (pCard.PairRank > oCard.PairRank) {
                        winningHand = playerHand;
                        winner = "Player";
                    }
                    else if (pCard.PairRank === oCard.PairRank) {
                        pCard = playerHand[4];
                        oCard = oppHand[4];
                        if (pCard.PairRank > oCard.PairRank) {
                            winningHand = playerHand;
                            winner = "Player";
                        }
                        else if (pCard.PairRank === oCard.PairRank) {
                            winningHand = "No Winner";
                            winner = "Tie";
                        }
                        else {
                            winningHand = oppHand;
                            winner = "Opponent"; 
                        }
                    }
                    else {
                        winningHand = oppHand;
                        winner = "Opponent";
                    }
                }

                else if (playerHand[0] === 6) {
                    let tieCounter = 0;
                    for (i = 1; i < playerHand.length; i++) {
                        if (playerHand[i].RankValue > oppHand[i].RankValue) {
                            winningHand = playerHand;
                            winner = "Player";
                            break;
                        }
                        else if (playerHand[i].RankValue < oppHand[i].RankValue) {
                            winningHand = oppHand;
                            winner = "Opponent"; 
                            break;
                        }
                        else{
                            tieCounter++;
                            console.log("Tie Countertie: " + tieCounter);
                        }
                        if (tieCounter === 5) {
                            winningHand = "No Winner";
                            winner = "Tie";
                        }
                    }
                }

                else if (playerHand[0] === 5) {
                    let pCard = playerHand[1];
                    let oCard = oppHand[1];
                    if (pCard.RankValue > oCard.RankValue) {
                        winningHand = playerHand;
                        winner = "Player";
                    }
                    else if (pCard.RankValue === oCard.RankValue) {
                        winningHand = "No Winner";
                        winner = "Tie";
                    }
                    else {
                        winningHand = oppHand;
                        winner = "Opponent";
                    }
                }

                else if (playerHand[0] === 4) {
                    let pCard = playerHand[1];
                    let oCard = oppHand[1];
                    if (pCard.PairRank > oCard.PairRank) {
                        winningHand = playerHand;
                        winner = "Player";
                    }
                    else if (pCard.PairRank === oCard.PairRank) {
                        let tieCounter = 0;
                        for (i = 4; i < playerHand.length; i++) {
                            if (playerHand[i].RankValue > oppHand[i].RankValue) {
                                winningHand = playerHand;
                                winner = "Player";
                                break;
                            }
                            else if (playerHand[i].RankValue < oppHand[i].RankValue) {
                                winningHand = oppHand;
                                winner = "Opponent"; 
                                break;
                            }
                            else{
                                tieCounter++;
                            }
                            if (tieCounter === 2) {
                                winningHand = "No Winner";
                                winner = "Tie";
                            }
                        }
                    }
                    else {
                        winningHand = oppHand;
                        winner = "Opponent";
                    }
                }

                else if (playerHand[0] === 3) {
                    let pCard = playerHand[1];
                    let oCard = oppHand[1];
                    if (pCard.PairRank > oCard.PairRank) {
                        winningHand = playerHand;
                        winner = "Player";
                    }
                    else if (pCard.PairRank === oCard.PairRank) {
                        pCard = playerHand[3];
                        oCard = oppHand[3];
                        if (pCard.PairRank > oCard.PairRank) {
                            winningHand = playerHand;
                            winner = "Player";
                        }
                        else if (pCard.PairRank === oCard.PairRank) {
                            pCard = playerHand[5];
                            oCard = oppHand[5];
                            if (pCard.PairRank > oCard.PairRank) {
                                winningHand = playerHand;
                                winner = "Player";
                            }
                            else if (pCard.PairRank === oCard.PairRank) {
                                winningHand = "No Winner";
                                winner = "Tie";
                            }
                            else {
                                winningHand = oppHand;
                                winner = "Opponent"; 
                            }
                        }
                        else {
                            winningHand = oppHand;
                            winner = "Opponent"; 
                        }
                    }
                    else {
                        winningHand = oppHand;
                        winner = "Opponent";
                    }
                }

                else if (playerHand[0] === 2) {
                    let pCard = playerHand[1];
                    let oCard = oppHand[1];
                    if (pCard.PairRank > oCard.PairRank) {
                        winningHand = playerHand;
                        winner = "Player";
                    }
                    else if (pCard.PairRank === oCard.PairRank) {
                        let tieCounter = 0;
                        for (i = 3; i < playerHand.length; i++) {
                            if (playerHand[i].RankValue > oppHand[i].RankValue) {
                                winningHand = playerHand;
                                winner = "Player";
                                break;
                            }
                            else if (playerHand[i].RankValue < oppHand[i].RankValue) {
                                winningHand = oppHand;
                                winner = "Opponent"; 
                                break;
                            }
                            else{
                                tieCounter++;
                            }
                            if (tieCounter === 3) {
                                winningHand = "No Winner";
                                winner = "Tie";
                            }
                        }
                    }
                    else {
                        winningHand = oppHand;
                        winner = "Opponent";
                    }
                }

                else {
                    let tieCounter = 0;
                    for (i = 1; i < playerHand.length; i++) {
                        if (playerHand[i].RankValue > oppHand[i].RankValue) {
                            winningHand = playerHand;
                            winner = "Player";
                            break;
                        }
                        else if (playerHand[i].RankValue < oppHand[i].RankValue) {
                            winningHand = oppHand;
                            winner = "Opponent"; 
                            break;
                        }
                        else{
                            tieCounter++;
                        }
                        if (tieCounter === 5) {
                            winningHand = "No Winner";
                            winner = "Tie";
                        }
                    }
                }
            }
            else {
                winningHand = oppHand;
                winner = "Opponent";
            }

            console.log("Winning Hand:");
            console.log(winner);
            
            let handTypeIndex;
            if (winningHand !== "No Winner") {
                handTypeIndex = winningHand[0];
            }
            else {
                handTypeIndex = playerHand[0];
            }
            let handType = handValues[handTypeIndex];
            console.log(winningHand);

            console.log("Compare Hands:");
            console.log(playerHand[0]);
            console.log(oppHand[0]);
            if (playerHand[0] === oppHand[0]) {
                if (winner === "Player") {
                    randDialoge = Math.floor(Math.random() * (dialogueCloseWin.length));
                    dialogueSpace.innerText = dialogueCloseWin[randDialoge];
                }
                else if (winner === "Opponent") {
                    randDialoge = Math.floor(Math.random() * (dialogueCloseLose.length));
                    dialogueSpace.innerText = dialogueCloseLose[randDialoge];
                }
                else {
                    randDialoge = Math.floor(Math.random() * (dialogueTie.length));
                    dialogueSpace.innerText = dialogueTie[randDialoge];
                }
            }
            else {
                if (winner === "Player") {
                    randDialoge = Math.floor(Math.random() * (dialogueWin.length));
                    dialogueSpace.innerText = dialogueWin[randDialoge];
                }
                else {
                    randDialoge = Math.floor(Math.random() * (dialogueLose.length));
                    dialogueSpace.innerText = dialogueLose[randDialoge];
                }
            }

            if (winningHand !== "No Winner") {
                winningHand.splice(0,1);
                winDeck = winningHand;
                document.getElementById("win_cards1").style.visibility = "visible";
            }
            else {
                playerHand.splice(0,1);
                oppHand.splice(0,1);
                winDeck = playerHand;
                tieDeck = oppHand;
                document.getElementById("win_cards1").style.visibility = "visible";
                document.getElementById("win_cards2").style.visibility = "visible";
            }

            let reportPot = potMoney;

            if (winner === "Player") {
                playerMoney += potMoney;
                potMoney = 0;
            }
            else if (winner === "Tie") {
                playerMoney += (potMoney / 2);
                potMoney = 0;
            }
            else {
                potMoney = 0;
            }

            saveValues();

            renderAll();

            reportSpace.innerHTML = ``;

            if (winner === "Player") {
                reportSpace.innerHTML = `You win!<br>You take the pot of <span class="money">$ ${reportPot.toLocaleString('en', {useGrouping:true})}</span>!<br><br>Winning Hand:<br>${handType}`;
            }
            else if (winner === "Tie") {
                reportSpace.innerHTML = `Tie!<br>The pot is split and returned to both players</span>!<br><br>Both players hands:`;
            }
            else {
                reportSpace.innerHTML = `You lose!<br>Your opponent takes the pot of <span class="money">$ ${reportPot.toLocaleString('en', {useGrouping:true})}</span>!<br><br>Winning Hand:<br>${handType}`;
            }

            document.getElementById("newtexhand_button").style.visibility = "visible";
            document.getElementById("newfivehand_button").style.visibility = "visible";
            document.getElementById("betup_button").style.visibility = "hidden";
            document.getElementById("betdown_button").style.visibility = "hidden";
            document.getElementById("makebet_button").style.visibility = "hidden";
            document.getElementById("fold_button").style.visibility = "hidden";

            if (playerMoney === 0) {
                document.getElementById("newtexhand_button").style.visibility = "hidden";
                document.getElementById("newfivehand_button").style.visibility = "hidden";

                randDialoge = Math.floor(Math.random() * (dialogueBroke.length));
                dialogueSpace.innerText = dialogueBroke[randDialoge];
            }
        }
        
        //Hand Calculation
        
        function calculateHand(deckType) {
            //let space = eval(deckType + "Space");
            let deck = eval(deckType + "Deck");

            /*
            //Testing - Deck Genration ###############################
            //mainDeck = testHand;
            //mainDeck = genPlaying54();
            mainDeck = combineDecks();
            shuffleDeck();

            for (i = 0; i < 2; i++) {
                let card = mainDeck.shift();
                handDeck.push(card);
            }
            for (i = 0; i < 5; i++) {
                let card = mainDeck.shift();
                riverDeck.push(card);
            }
            if (testLog === true) {
                console.log("Hand: " + handDeck[0].Name + ", " + handDeck[1].Name);
                console.log("River: " + riverDeck[0].Name + ", " + riverDeck[1].Name + ", " + riverDeck[2].Name + ", " + riverDeck[3].Name + ", " + riverDeck[4].Name);
            }
            //#########################################################
            */

            if (handDeck.length === 2) {
                cardPool = [deck[0], deck[1], riverDeck[0], riverDeck[1], riverDeck[2], riverDeck[3], riverDeck[4]];
            }
            else {
                cardPool = [deck[0], deck[1], deck[2], deck[3], deck[4]];
            }

            console.log("Card Pool:");
            console.log(JSON.stringify(cardPool));

            groups = calculateGroups();

            straights = calculateStraights();

            flushes = calculateFlush();

            //Count Hands
            fiveCounter = 0;
            for (i = 0; i < groups.length; i++) {
                if (groups[i].Num > 4) {
                    fiveCounter++;
                }
            }

            fourCounter = 0;
            for (i = 0; i < groups.length; i++) {
                if (groups[i].Num === 4) {
                    fourCounter++;
                }
            }

            threeCounter = 0;
            for (i = 0; i < groups.length; i++) {
                if (groups[i].Num === 3) {
                    threeCounter++;
                }
            }

            onePairCounter = 0;
            for (i = 0; i < groups.length; i++) {
                if (groups[i].Num === 2) {
                    onePairCounter++;
                }
            }

            fullCounter = 0;
            if (threeCounter === 2 || (threeCounter === 1 && onePairCounter === 1) ){
                fullCounter++;
            }

            twoPairCounter = 0;
            if (onePairCounter > 1){
                twoPairCounter++;
            }

            straightFlushCounter = 0;
            for (i = 0; i < straights.length; i++) {
                if (straights[i].Flush === true) {
                    straightFlushCounter++;
                }
            }

            flushCounter = flushes.length;

            straightCounter = 0;
            if (straights.length !== 0) {
                straightCounter++;
            }

            if (testLog === true) {
                console.log("########################################");

                if (handDeck.length === 2) {
                    console.log("Hand: " + handDeck[0].Name + ", " + handDeck[1].Name);
                    console.log("River: " + riverDeck[0].Name + ", " + riverDeck[1].Name + ", " + riverDeck[2].Name + ", " + riverDeck[3].Name + ", " + riverDeck[4].Name);
                }
                else {
                    console.log("Hand: " + handDeck[0].Name + ", " + handDeck[1].Name + ", " + handDeck[2].Name + ", " + handDeck[3].Name + ", " + handDeck[4].Name);
                }

                console.log("Five of a Kind: " + fiveCounter);
                console.log("Straight Flush: " + straightFlushCounter);
                console.log("Four of a Kind: " + fourCounter);
                console.log("Full House: " + fullCounter);
                console.log("Flush: " + flushCounter);
                console.log("Straight: " + straightCounter);
                console.log("Three of a Kind: " + threeCounter);
                console.log("Two Pair: " + twoPairCounter);
                console.log("One Pair: " + onePairCounter);

                console.log("########################################");
            }

            bestHand = [];
            best = 0;

            //5 of a kind
            if (fiveCounter > 0) {
                fiveKind();
            }
            else if (straightFlushCounter > 0) {
                straightFlush();
            }
            else if (fourCounter > 0) {
                fourKind();
            }
            else if (fullCounter > 0) {
                fullHouse();
            }
            else if (flushCounter > 0) {
                flush();
            }
            else if (straightCounter > 0) {
                straight();
            }
            else if (threeCounter > 0) {
                threeKind();
            }
            else if (twoPairCounter > 0) {
                twoPair();
            }
            else if (onePairCounter > 0) {
                onePair();
            }
            else {
                junkHand();
            }
            if (testLog === true) {
                console.log("Best hand:");
                console.log(bestHand);
            }
            return bestHand;
        }

        function calculateGroups() {
            let groupsArray = [];
            let groupRanks = [];
            let groupCompare = [];
            let cards = cardPool.slice(0);

            //Adds all pair rank values to array
            for (i = 0; i < cards.length; i++) {
                groupRanks.push(cards[i].PairRank);
            }

            if (testLog === true) {
                console.log("Ranks: ");
                console.log(groupRanks);
            }

            //Adds all pair ranks to comparison array without duplicates
            for (i = 0; i < groupRanks.length; i++) {
                let repCounter = 0;
                for (x = 0; x < groupCompare.length; x++) {
                    if (groupRanks[i] === groupCompare[x]) {
                        repCounter++;
                    }
                }
                if (repCounter === 0) {
                    groupCompare.push(groupRanks[i]);
                }
            }

            if (testLog === true) {
                console.log("Compare (Removed Duplicates): ");
                console.log(groupCompare);
            }

            //Sorts comparison array from highest to lowest
            let sortedRanks = groupCompare.slice().sort(function(a,b){return b-a});

            if (testLog === true) {
                console.log("Sorted: ");
                console.log(sortedRanks);
            }

            //Moves cards with pair alt values to a different array so they can be evaluated first
            let altArray = [];
            for (i = 0; i < cards.length; i++) {
                if (cards[i].PairAlt !== null) {
                    altArray.push(cards[i]);
                }
            }

            if (testLog === true) {
                console.log("Alt Array:");
                console.log(altArray);

                console.log("Cards:");
                console.log(JSON.stringify(cards));
            }
            
            //Sorts pair values with same rank into different arrays
            for (i = 0; i < sortedRanks.length; i++) {
                let value;
                let valCounter = 0;
                let valArray = [];
                for (x = 0; x < altArray.length; x++) {
                    if (altArray[x].PairRank === sortedRanks[i]) {
                        value = altArray[x].PairValue;
                        let repCounter = 0;
                        for (y = 0; y < valArray.length; y++) {
                            if (value === valArray[y]) {
                                repCounter++;
                            }
                        }
                        if (repCounter === 0 && value !== null) {
                            valArray.push(value);
                        }  
                    }
                }
                for (x = 0; x < cards.length; x++) {
                    if (cards[x].PairRank === sortedRanks[i]) {
                        value = cards[x].PairValue;
                        let repCounter = 0;
                        for (y = 0; y < valArray.length; y++) {
                            if (value === valArray[y]) {
                                repCounter++;
                            }
                        }
                        if (repCounter === 0 && value !== null) {
                            valArray.push(value);
                        }  
                    }
                }
                if (testLog === true) {
                    console.log(sortedRanks[i] + " Val Array: ");
                    console.log(valArray);
                    //console.log("Cards: ");
                    //console.log(JSON.stringify(cards));
                }
                
                //Goes through each group value
                //Goes through each card in alt array and assigns to group if values match
                //Goes through remaining cards and assigns to group if values match
                for (y = 0; y < valArray.length; y++) {
                    valCounter = 0;

                    /*
                    for (x = 0; x < cards.length; x++) {
                        if (cards[x].PairValue === valArray[y]) {
                            valCounter++;
                        }
                    }
                    let group = {Value: valArray[y], Rank: sortedRanks[i], Num: valCounter};
                    groupsArray.push(group);
                    */
                    let group = {Value: valArray[y], Rank: sortedRanks[i], Num: valCounter};
                    groupsArray.push(group);
                }
            }

            if (testLog === true) {
                console.log("Pre-Alt Groups:");
                console.log(JSON.stringify(groupsArray));
                let cardsLog1 = cards.slice(0);
                console.log("Cards:");
                console.log(cardsLog1);
            }

            
            for (i = 0; i < groupsArray.length; i++) {
                let pairCounter = 0;
                let altCounter = 0;
                for (x = 0; x < cards.length; x++) {
                    if (cards[x].PairValue === groupsArray[i].Value) {
                        pairCounter ++;
                    }
                    if (cards[x].PairAlt === groupsArray[i].Value) {
                        altCounter ++;
                    }
                }
                let combCounter = pairCounter + altCounter;
                console.log("Group Value: " + groupsArray[i].Value);
                console.log("Pair Conter: " + pairCounter);
                console.log("Alt Conter: " + altCounter);
                console.log("Total: " + combCounter);
                console.log("####################################");
                if (combCounter > 1) {
                    groupsArray[i].Num = combCounter;
                    for (x = 0; x < cards.length; x++) {
                        if (cards[x].PairValue === groupsArray[i].Value || cards[x].PairAlt === groupsArray[i].Value) {
                            cards.splice(x,1);
                            x = -1;
                        }
                    }
                }
                else {
                    groupsArray[i].Num = 1;
                    for (x = 0; x < cards.length; x++) {
                        if (cards[x].PairValue === groupsArray[i].Value || cards[x].PairAlt === groupsArray[i].Value) {
                            cards.splice(x,1);
                            x = -1;
                        }
                    }
                }
            }

            /*
            console.log(JSON.stringify(altArray));

            for (i = 0; i < altArray.length; i++) {
                console.log("i = " + i + " Card = " + altArray[i].Name);
                for (x = 0; x < groupsArray.length; x++) {
                    console.log("x = " + x + " Value = " + groupsArray[x].Value);
                    if (groupsArray[x].Value === altArray[i].PairValue && groupsArray[x].Num > 1) {
                        console.log("Pair Value Matched");
                        altArray.splice(i,1);
                        console.log(JSON.stringify(altArray));
                        i = -1;
                        break;
                    }
                    else if (groupsArray[x].Value === altArray[i].PairAlt) {
                        console.log("Pair Alt Matched");
                        groupsArray[x].Num++;
                        for (y = 0; y < groupsArray.length; y++) {
                            console.log("y = " + y);
                            if (groupsArray[y].Value === altArray[i].PairValue && groupsArray[y].Num > 1) {
                                groupsArray[y].Num += -1;
                                altArray.splice(i,1);
                                console.log(JSON.stringify(altArray));
                                i = -1;
                                break;
                            }
                        }
                    }
                    else {
                        console.log("Nothing...");
                    }
                }
            }

            */

            if (testLog === true) {
                console.log("Final Groups:");
                console.log(groupsArray);
            }

            return groupsArray;
        }

        function calculateStraights() {
            let straightsArray = [];
            //Goes through each card and defines the required previous 4 values needed for a straight
            for (i = 0; i < cardPool.length; i++) {
                if (testLog === true) {
                    console.log("#################################################");
                    console.log("Rank Value: " + cardPool[i].RankValue);
                }
                let straight1 = cardPool[i].RankValue - 4;
                let straight2 = cardPool[i].RankValue - 3;
                let straight3 = cardPool[i].RankValue - 2;
                let straight4 = cardPool[i].RankValue - 1;

                if (testLog === true) {
                    console.log("Straight Values: " + straight1 + ", " + straight2 + ", " + straight3 + ", " + straight4 + ", " + cardPool[i].RankValue);
                }

                let check1 = false;
                let check2 = false;
                let check3 = false;
                let check4 = false;
                let wildCounter = 0;

                //Goes through each card and checks if the required cards are present in the card pool
                //If a wild card is detected, wild counter is increased
                for (x = 0; x < cardPool.length; x++) {
                    if (cardPool[x].RankValue === straight1 || cardPool[x].RankAlt === straight1) {
                        check1 = true;
                    }
                    if (cardPool[x].RankValue === straight2 || cardPool[x].RankAlt === straight2) {
                        check2 = true;
                    }
                    if (cardPool[x].RankValue === straight3 || cardPool[x].RankAlt === straight3) {
                        check3 = true;
                    }
                    if (cardPool[x].RankValue === straight4 || cardPool[x].RankAlt === straight4) {
                        check4 = true;
                    }
                    if (cardPool[x].RankValue === "Wild" || cardPool[x].RankAlt === "Wild") {
                        wildCounter++;
                    }
                }
                if (testLog === true) {
                    console.log("Pre-Wild ####################");
                    console.log(check1 + " " + check2 + " " + check3 + " " + check4 + " " + cardPool[i].RankValue);
                    console.log("Wilds: " + wildCounter);
                }
                //Goes through each false check and makes true for each wild card counted
                if (check1 === false && wildCounter > 0) {
                    check1 = true;
                    wildCounter += -1;
                }
                if (check2 === false && wildCounter > 0) {
                    check2 = true;
                    wildCounter += -1;
                }
                if (check3 === false && wildCounter > 0) {
                    check3 = true;
                    wildCounter += -1;
                }
                if (check4 === false && wildCounter > 0) {
                    check4 = true;
                    wildCounter += -1;
                }
                if (testLog === true) {
                    console.log("Post-Wild ####################");
                    console.log(check1 + " " + check2 + " " + check3 + " " + check4 + " " + cardPool[i].RankValue);
                    console.log("Wilds: " + wildCounter);
                }

                //If all checks are true, a straight is detected
                if (check1 === true && check2 === true && check3 === true && check4 === true) {
                    if (testLog === true) {
                        console.log("Straight detected!");
                    }
                    let straight = {Suit: cardPool[i].Suit, Value1: cardPool[i].RankValue, Value2: straight4, Value3: straight3, Value4: straight2, Value5: straight1}
                    straightsArray.push(straight);
                }    
            }
            if (testLog === true) {
                console.log("Straights:");
                console.log(straightsArray);
            }

            //Goes through each detected straight and checks if the associated cards have the same suit
            if (straightsArray.length > 0) {
                for (i = 0; i < straightsArray.length; i++) {
                    let suit = straightsArray[i].Suit;
                    let flushCounter = 0;
                    for (x = 0; x < cardPool.length; x++) {
                        if (cardPool[x].RankValue === straightsArray[i].Value1 && cardPool[x].Suit === suit) {
                            flushCounter ++;
                        }
                        if (cardPool[x].RankValue === straightsArray[i].Value2 && cardPool[x].Suit === suit) {
                            flushCounter ++;
                        }
                        if (cardPool[x].RankValue === straightsArray[i].Value3 && cardPool[x].Suit === suit) {
                            flushCounter ++;
                        }
                        if (cardPool[x].RankValue === straightsArray[i].Value4 && cardPool[x].Suit === suit) {
                            flushCounter ++;
                        }
                        if (cardPool[x].RankValue === straightsArray[i].Value5 && cardPool[x].Suit === suit) {
                            flushCounter ++;
                        }
                        if (cardPool[x].RankValue === "Wild") {
                            flushCounter ++;
                        }
                    }
                    if (testLog === true) {
                        console.log("Flush: " + flushCounter);
                    }
                    if (flushCounter > 4) {
                        if (testLog === true) {
                            console.log("Straight Flush Detected");
                        }
                        straightsArray[i].Flush = true;
                    }
                }
            }
            if (testLog === true) {
                console.log("Flush Straights:");
                console.log(straightsArray);
            }

            return straightsArray;
        }

        function calculateFlush() {
            let flushesArray = [];
            let flush = 0;
            if (testLog === true) {
                console.log("Detecting Flushes...");
            }
            //Goes through each card and compares suit with every other card
            //If suits match, suit counter increases
            //If suit counter is 5 or more, a flush is detected
            for (i = 0; i < cardPool.length; i++) {
                let suit = cardPool[i].Suit;
                if (testLog === true) {
                    console.log("Suit: " + suit);
                }
                let suitCounter = 0;
                if (suit !== "Wild") {
                    for (x = 0; x < cardPool.length; x++) {
                        if (cardPool[x].Suit === suit || cardPool[x].Suit === "Wild") {
                            suitCounter++;
                        }
                    }
                    if (suitCounter > 4) {
                        flush = {Suit: suit, Num: suitCounter};

                        let repCounter = 0;
                        for (x = 0; x < flushesArray.length; x++) {
                            if (cardPool[i].Suit === flushesArray[x].Suit) {
                                repCounter++;
                            }
                        }
                        if (repCounter === 0) {
                            flushesArray.push(flush);
                        }
                    }
                }
            }
            if (testLog === true) {
                console.log("Flush:");
                console.log(flushesArray);
            }
            return flushesArray;
        }

        function fiveKind() {
            for (i = 0; i < groups.length; i++) {
                if (groups[i].Num > 4) {
                    best = groups[i];
                }
            }
            if (testLog === true) {
                console.log("Top group:");
                console.log(best);
            }
            let mainVal = best.Value;
            let pairCounter = 0;
            let altCounter = 0;
            for (i = 0; i < cardPool.length; i++) {
                if (cardPool[i].PairValue === mainVal) {
                    pairCounter++;
                }
                else if (cardPool[i].PairAlt === mainVal) {
                    altCounter++;
                }
            }
            if (testLog === true) {
                console.log("Regular cards: " + pairCounter);
                console.log("Alt cards: " + altCounter);
            }
            if (pairCounter === 5) {
                let x = 0;
                let y = 0;
                while (y < 5) {
                    if (cardPool[x].PairValue === mainVal) {
                        y++;
                        let card = cardPool[x];
                        bestHand.push(card);
                    }
                    x++;
                }
            }
            else {
                let x = 0;
                let y = 0;
                while (y < pairCounter) {
                    if (cardPool[x].PairValue === mainVal) {
                        y++;
                        let card = cardPool[x];
                        bestHand.push(card);
                    }
                    x++;
                }
                x = 0;
                y = 0;
                while (y < (5 - pairCounter)) {
                    if (cardPool[x].PairAlt === mainVal) {
                        y++;
                        let card = cardPool[x];
                        bestHand.push(card);
                    }
                    x++;
                }
            }
            bestHand.unshift(10);
        }
        
        function straightFlush() {
            let compare = [];
            for (i = 0; i < straights.length; i++) {
                if (testLog === true) {
                    console.log("Suit: " + straights[i].Suit + " Flush: " + straights[i].Flush);
                }
                if (straights[i].Flush === true && straights[i].Suit !== "Wild") {
                    compare.push(straights[i].Value1);
                }
            }
            if (testLog === true) {
                console.log("Compare:");
                console.log(compare);
            }
            let topValue = Math.max(...compare);
            if (testLog === true) {
                console.log("Top: " + topValue);
            }
            
            for (i = 0; i < straights.length; i++) {
                if (straights[i].Value1 === topValue && straights[i].Flush === true) {
                    best = straights[i];
                }
            }
            if (testLog === true) {
                console.log("Best:");
                console.log(best);
            }

            for (i = 0; i < cardPool.length; i++) {
                if ((cardPool[i].RankValue === best.Value1 || cardPool[i].RankAlt === best.Value1) && cardPool[i].Suit === best.Suit) {
                    bestHand.push(cardPool[i]);
                    break;
                }
            }
            if (bestHand.length < 1) {
                for (i = 0; i < cardPool.length; i++) {
                    if (cardPool[i].RankValue === "Wild") {
                        bestHand.push(cardPool[i]);
                        cardPool.splice(i,1);
                        break;
                    }
                }
            }
            for (i = 0; i < cardPool.length; i++) {
                if ((cardPool[i].RankValue === best.Value2 || cardPool[i].RankAlt === best.Value2) && cardPool[i].Suit === best.Suit) {
                    bestHand.push(cardPool[i]);
                    break;
                }
            }
            if (bestHand.length < 2) {
                for (i = 0; i < cardPool.length; i++) {
                    if (cardPool[i].RankValue === "Wild") {
                        bestHand.push(cardPool[i]);
                        cardPool.splice(i,1);
                        break;
                    }
                }
            }
            for (i = 0; i < cardPool.length; i++) {
                if ((cardPool[i].RankValue === best.Value3 || cardPool[i].RankAlt === best.Value3) && cardPool[i].Suit === best.Suit) {
                    bestHand.push(cardPool[i]);
                    break;
                }
            }
            if (bestHand.length < 3) {
                for (i = 0; i < cardPool.length; i++) {
                    if (cardPool[i].RankValue === "Wild") {
                        bestHand.push(cardPool[i]);
                        cardPool.splice(i,1);
                        break;
                    }
                }
            }
            for (i = 0; i < cardPool.length; i++) {
                if ((cardPool[i].RankValue === best.Value4 || cardPool[i].RankAlt === best.Value4) && cardPool[i].Suit === best.Suit) {
                    bestHand.push(cardPool[i]);
                    break;
                }
            }
            if (bestHand.length < 4) {
                for (i = 0; i < cardPool.length; i++) {
                    if (cardPool[i].RankValue === "Wild") {
                        bestHand.push(cardPool[i]);
                        cardPool.splice(i,1);
                        break;
                    }
                }
            }
            for (i = 0; i < cardPool.length; i++) {
                if ((cardPool[i].RankValue === best.Value5 || cardPool[i].RankAlt === best.Value5) && cardPool[i].Suit === best.Suit) {
                    bestHand.push(cardPool[i]);
                    break;
                }
            }
            if (bestHand.length < 5) {
                for (i = 0; i < cardPool.length; i++) {
                    if (cardPool[i].RankValue === "Wild") {
                        bestHand.push(cardPool[i]);
                        cardPool.splice(i,1);
                        break;
                    }
                }
            }
            bestHand.unshift(9);
        }

        function fourKind() {
            for (i = 0; i < groups.length; i++) {
                if (groups[i].Num === 4) {
                    best = groups[i];
                }
            }
            if (testLog === true) {
                console.log("Top Group:");
                console.log(best);
            }
            let mainVal = best.Value;
            let pairCounter = 0;
            let altCounter = 0;
            for (i = 0; i < cardPool.length; i++) {
                if (cardPool[i].PairValue === mainVal) {
                    pairCounter++;
                }
                else if (cardPool[i].PairAlt === mainVal) {
                    altCounter++;
                }
            }
            if (testLog === true) {
                console.log("Regular cards: " + pairCounter);
                console.log("Alt cards: " + altCounter);
            }
            if (pairCounter === 4) {
                let x = 0;
                let y = 0;
                while (y < 4) {
                    if (cardPool[x].PairValue === mainVal) {
                        y++;
                        let card = cardPool[x];
                        cardPool.splice(x,1);
                        bestHand.push(card);
                        x = -1;
                    }
                    x++;
                }
            }
            else {
                let x = 0;
                let y = 0;
                while (y < pairCounter) {
                    if (cardPool[x].PairValue === mainVal) {
                        y++;
                        let card = cardPool[x];
                        cardPool.splice(x,1);
                        bestHand.push(card);
                        x = -1;
                    }
                    x++;
                }
                x = 0;
                y = 0;
                while (y < (4 - pairCounter)) {
                    if (cardPool[x].PairAlt === mainVal) {
                        y++;
                        let card = cardPool[x];
                        cardPool.splice(x,1);
                        bestHand.push(card);
                        x = -1;
                    }
                    x++;
                }
            }
            if (testLog === true) {
                console.log("Card Pool:");
                console.log(cardPool);
            }
            let compare = [];
            for (i = 0; i < cardPool.length; i++) {
                if (cardPool[i].RankValue !== "Wild") {
                    compare.push(cardPool[i].RankValue);
                }
            }
            if (testLog === true) {
                console.log("Compare:");
                console.log(compare);
            }
            let topValue;
            if (compare.length > 0) {
                topValue = Math.max(...compare);
            }
            else {
                topValue = "Wild";
            }
            if (testLog === true) {
                console.log("Top: " + topValue);
            }
            
            for (i = 0; i < cardPool.length; i++) {
                if (cardPool[i].RankValue === topValue) {
                    best = cardPool[i];
                }
            }
            bestHand.push(best);
            bestHand.unshift(8);
        }

        function fullHouse() {
            if (threeCounter === 2) {
                let compare = [];
                for (i = 0; i < groups.length; i++) {
                    if (groups[i].Num === 3) {
                        compare.push(groups[i].Rank);
                    }
                }
                if (testLog === true) {
                    console.log("Compare:");
                    console.log(compare);
                }
                let topValue = Math.max(...compare);
                if (testLog === true) {
                    console.log("Top: " + topValue);
                }

                let threeValue;
                let twoValue;
                for (i = 0; i < groups.length; i++) {
                    if (groups[i].Rank === topValue) {
                        threeValue = groups[i].Value;
                    }
                    else if (groups[i].Num === 3) {
                        twoValue = groups[i].Value;
                    }
                }
                if (testLog === true) {
                    console.log("Three: " + threeValue);
                    console.log("Pair: " + twoValue);
                }
                let pairCounter = 0;
                let altCounter = 0;
                for (i = 0; i < cardPool.length; i++) {
                    if (cardPool[i].PairValue === threeValue) {
                        pairCounter++;
                    }
                    else if (cardPool[i].PairAlt === threeValue) {
                        altCounter++;
                    }
                }
                if (testLog === true) {
                    console.log("Regular cards: " + pairCounter);
                    console.log("Alt cards: " + altCounter);
                }
                if (pairCounter === 3) {
                    let x = 0;
                    let y = 0;
                    while (y < 3) {
                        if (cardPool[x].PairValue === threeValue) {
                            y++;
                            let card = cardPool[x];
                            bestHand.push(card);
                        }
                        x++;
                    }
                }
                else {
                    let x = 0;
                    let y = 0;
                    while (y < pairCounter) {
                        if (cardPool[x].PairValue === threeValue) {
                            y++;
                            let card = cardPool[x];
                            bestHand.push(card);
                        }
                        x++;
                    }
                    x = 0;
                    y = 0;
                    while (y < (3 - pairCounter)) {
                        if (cardPool[x].PairAlt === threeValue) {
                            y++;
                            let card = cardPool[x];
                            bestHand.push(card);
                        }
                        x++;
                    }
                }
                pairCounter = 0;
                altCounter = 0;
                for (i = 0; i < cardPool.length; i++) {
                    if (cardPool[i].PairValue === twoValue) {
                        pairCounter++;
                    }
                    else if (cardPool[i].PairAlt === twoValue) {
                        altCounter++;
                    }
                }
                if (testLog === true) {
                    console.log("Regular cards: " + pairCounter);
                    console.log("Alt cards: " + altCounter);
                }
                if (pairCounter > 1) {
                    let x = 0;
                    let y = 0;
                    while (y < 2) {
                        if (cardPool[x].PairValue === twoValue) {
                            y++;
                            let card = cardPool[x];
                            bestHand.push(card);
                        }
                        x++;
                    }
                }
                else {
                    let x = 0;
                    let y = 0;
                    while (y < pairCounter) {
                        if (cardPool[x].PairValue === twoValue) {
                            y++;
                            let card = cardPool[x];
                            bestHand.push(card);
                        }
                        x++;
                    }
                    x = 0;
                    y = 0;
                    while (y < (2 - pairCounter)) {
                        if (cardPool[x].PairAlt === twoValue) {
                            y++;
                            let card = cardPool[x];
                            bestHand.push(card);
                        }
                        x++;
                    }
                }
            }
            else {
                let threeValue;
                let twoValue;

                for (i = 0; i < groups.length; i++) {
                    if (groups[i].Num === 3) {
                        threeValue = groups[i].Value;
                    }
                    else if (groups[i].Num === 2) {
                        twoValue = groups[i].Value;
                    }
                }
                if (testLog === true) {
                    console.log("Three: " + threeValue);
                    console.log("Pair: " + twoValue);
                }
                let pairCounter = 0;
                let altCounter = 0;
                for (i = 0; i < cardPool.length; i++) {
                    if (cardPool[i].PairValue === threeValue) {
                        pairCounter++;
                    }
                    else if (cardPool[i].PairAlt === threeValue) {
                        altCounter++;
                    }
                }
                if (testLog === true) {
                    console.log("Regular cards: " + pairCounter);
                    console.log("Alt cards: " + altCounter);
                }
                if (pairCounter === 3) {
                    let x = 0;
                    let y = 0;
                    while (y < 3) {
                        if (cardPool[x].PairValue === threeValue) {
                            y++;
                            let card = cardPool[x];
                            bestHand.push(card);
                        }
                        x++;
                    }
                }
                else {
                    let x = 0;
                    let y = 0;
                    while (y < pairCounter) {
                        if (cardPool[x].PairValue === threeValue) {
                            y++;
                            let card = cardPool[x];
                            bestHand.push(card);
                        }
                        x++;
                    }
                    x = 0;
                    y = 0;
                    while (y < (3 - pairCounter)) {
                        if (cardPool[x].PairAlt === threeValue) {
                            y++;
                            let card = cardPool[x];
                            bestHand.push(card);
                        }
                        x++;
                    }
                }
                pairCounter = 0;
                altCounter = 0;
                for (i = 0; i < cardPool.length; i++) {
                    if (cardPool[i].PairValue === twoValue) {
                        pairCounter++;
                    }
                    else if (cardPool[i].PairAlt === twoValue) {
                        altCounter++;
                    }
                }
                if (testLog === true) {
                    console.log("Regular cards: " + pairCounter);
                    console.log("Alt cards: " + altCounter);
                }
                if (pairCounter > 1) {
                    let x = 0;
                    let y = 0;
                    while (y < 2) {
                        if (cardPool[x].PairValue === twoValue) {
                            y++;
                            let card = cardPool[x];
                            bestHand.push(card);
                        }
                        x++;
                    }
                }
                else {
                    let x = 0;
                    let y = 0;
                    while (y < pairCounter) {
                        if (cardPool[x].PairValue === twoValue) {
                            y++;
                            let card = cardPool[x];
                            bestHand.push(card);
                        }
                        x++;
                    }
                    x = 0;
                    y = 0;
                    while (y < (2 - pairCounter)) {
                        if (cardPool[x].PairAlt === twoValue) {
                            y++;
                            let card = cardPool[x];
                            bestHand.push(card);
                        }
                        x++;
                    }
                }
            }
            bestHand.unshift(7);
        }

        function flush() {
            let flushHand = [];
            let suit;
            if (flushes.length > 1) {
                let compare = [];
                for (i = 0; i < cardPool.length; i++) {
                    if (cardPool[i].RankValue !== "Wild") {
                        compare.push(cardPool[i].RankValue);
                    }
                }
                if (testLog === true) {
                    console.log("Compare:");
                    console.log(compare);
                }
                let topValue = Math.max(...compare);
                if (testLog === true) {
                    console.log("Top: " + topValue);
                }
                for (i = 0; i < cardPool.length; i++) {
                    if (cardPool[i].RankValue === topValue) {
                        suit = cardPool[i].Suit;
                    }
                }
                if (testLog === true) {
                    console.log("Suit:");
                    console.log(suit);
                }
            }
            else {
                suit = flushes[0].Suit;
                if (testLog === true) {
                    console.log("Suit:");
                    console.log(suit);
                }
            }
            for (i = 0; i < cardPool.length; i++) {
                if (cardPool[i].Suit === suit || cardPool[i].Suit === "Wild") {
                    flushHand.push(cardPool[i]);
                }
            }
            if (testLog === true) {
                console.log("All flush cards:");
                console.log(JSON.stringify(flushHand));
            }
            let y = 0;
            while (y < 5) {
                let compare = [];
                for (i = 0; i < flushHand.length; i++) {
                    if (flushHand[i].RankValue !== "Wild") {
                        compare.push(flushHand[i].RankValue);
                    }
                }
                let topValue = Math.max(...compare);
                if (testLog === true) {
                    console.log("Top: " + topValue);
                }
                let index = null;
                for (i = 0; i < flushHand.length; i++) {
                    if (flushHand[i].RankValue === topValue) {
                        index = i;
                        if (testLog === true) {
                            console.log("Index: " + index);
                        }
                    }
                }
                if (index !== null) {
                    bestHand.push(flushHand[index]);
                    flushHand.splice(index,1);
                    y++;
                }
                else {
                    for (i = 0; i < flushHand.length; i++) {
                        if (flushHand[i].RankValue === "Wild") {
                            bestHand.push(flushHand[i]);
                            flushHand.splice(index,1);
                            y++;
                            break;
                        }
                    }
                }
            }
            bestHand.unshift(6);
        }

        function straight() {
            let compare = [];
            for (i = 0; i < straights.length; i++) {
                compare.push(straights[i].Value1);
            }
            if (testLog === true) {
                console.log("Compare:");
                console.log(compare);
            }
            let topValue = Math.max(...compare);
            if (testLog === true) {
                console.log("Top: " + topValue);
            }
            
            for (i = 0; i < straights.length; i++) {
                if (straights[i].Value1 === topValue) {
                    best = straights[i];
                }
            }
            if (testLog === true) {
                console.log("Best:");
                console.log(best);
            }

            for (i = 0; i < cardPool.length; i++) {
                if (cardPool[i].RankValue === best.Value1 || cardPool[i].RankAlt === best.Value1) {
                    bestHand.push(cardPool[i]);
                    break;
                }
            }
            if (bestHand.length < 1) {
                for (i = 0; i < cardPool.length; i++) {
                    if (cardPool[i].RankValue === "Wild") {
                        bestHand.push(cardPool[i]);
                        cardPool.splice(i,1);
                        break;
                    }
                }
            }
            for (i = 0; i < cardPool.length; i++) {
                if (cardPool[i].RankValue === best.Value2 || cardPool[i].RankAlt === best.Value2) {
                    bestHand.push(cardPool[i]);
                    break;
                }
            }
            if (bestHand.length < 2) {
                for (i = 0; i < cardPool.length; i++) {
                    if (cardPool[i].RankValue === "Wild") {
                        bestHand.push(cardPool[i]);
                        cardPool.splice(i,1);
                        break;
                    }
                }
            }
            for (i = 0; i < cardPool.length; i++) {
                if (cardPool[i].RankValue === best.Value3 || cardPool[i].RankAlt === best.Value3) {
                    bestHand.push(cardPool[i]);
                    break;
                }
            }
            if (bestHand.length < 3) {
                for (i = 0; i < cardPool.length; i++) {
                    if (cardPool[i].RankValue === "Wild") {
                        bestHand.push(cardPool[i]);
                        cardPool.splice(i,1);
                        break;
                    }
                }
            }
            for (i = 0; i < cardPool.length; i++) {
                if (cardPool[i].RankValue === best.Value4 || cardPool[i].RankAlt === best.Value4) {
                    bestHand.push(cardPool[i]);
                    break;
                }
            }
            if (bestHand.length < 4) {
                for (i = 0; i < cardPool.length; i++) {
                    if (cardPool[i].RankValue === "Wild") {
                        bestHand.push(cardPool[i]);
                        cardPool.splice(i,1);
                        break;
                    }
                }
            }
            for (i = 0; i < cardPool.length; i++) {
                if (cardPool[i].RankValue === best.Value5 || cardPool[i].RankAlt === best.Value5) {
                    bestHand.push(cardPool[i]);
                    break;
                }
            }
            if (bestHand.length < 5) {
                for (i = 0; i < cardPool.length; i++) {
                    if (cardPool[i].RankValue === "Wild") {
                        bestHand.push(cardPool[i]);
                        cardPool.splice(i,1);
                        break;
                    }
                }
            }
            bestHand.unshift(5);
        }

        function threeKind() {
            for (i = 0; i < groups.length; i++) {
                if (groups[i].Num === 3) {
                    best = groups[i];
                }
            }
            if (testLog === true) {
                console.log(best);
            }
            let mainVal = best.Value;
            let pairCounter = 0;
            let altCounter = 0;
            for (i = 0; i < cardPool.length; i++) {
                if (cardPool[i].PairValue === mainVal) {
                    pairCounter++;
                }
                else if (cardPool[i].PairAlt === mainVal) {
                    altCounter++;
                }
            }
            if (testLog === true) {
                console.log("Regular cards: " + pairCounter);
                console.log("Alt cards: " + altCounter);
            }
            if (pairCounter === 3) {
                let x = 0;
                let y = 0;
                while (y < 3) {
                    if (cardPool[x].PairValue === mainVal) {
                        y++;
                        let card = cardPool[x];
                        cardPool.splice(x,1);
                        bestHand.push(card);
                        x = -1;
                    }
                    x++;
                }
            }
            else {
                let x = 0;
                let y = 0;
                while (y < pairCounter) {
                    if (cardPool[x].PairValue === mainVal) {
                        y++;
                        let card = cardPool[x];
                        cardPool.splice(x,1);
                        bestHand.push(card);
                        x = -1;
                    }
                    x++;
                }
                x = 0;
                y = 0;
                while (y < (3 - pairCounter)) {
                    if (cardPool[x].PairAlt === mainVal) {
                        y++;
                        let card = cardPool[x];
                        cardPool.splice(x,1);
                        bestHand.push(card);
                        x = -1;
                    }
                    x++;
                }
            }
            if (testLog === true) {
                console.log("Card Pool:");
                console.log(cardPool);
            }
            let compare = [];
            for (i = 0; i < cardPool.length; i++) {
                if (cardPool[i].RankValue !== "Wild") {
                    compare.push(cardPool[i].RankValue);
                }
            }
            if (testLog === true) {
                console.log("Compare:");
                console.log(compare);
            }
            let topValue;
            if (compare.length > 0) {
                topValue = Math.max(...compare);
            }
            else {
                topValue = "Wild";
            }
            if (testLog === true) {
                console.log("Top: " + topValue);
            }
            let index;
            for (i = 0; i < cardPool.length; i++) {
                if (cardPool[i].RankValue === topValue) {
                    index = i;
                }
            }
            let topCard = cardPool[index];
            bestHand.push(topCard);
            cardPool.splice(index,1);

            compare = [];
            for (i = 0; i < cardPool.length; i++) {
                if (cardPool[i].RankValue !== "Wild") {
                    compare.push(cardPool[i].RankValue);
                }
            }
            if (testLog === true) {
                console.log("Compare:");
                console.log(compare);
            }
            if (compare.length > 0) {
                topValue = Math.max(...compare);
            }
            else {
                topValue = "Wild";
            }
            if (testLog === true) {
                console.log("Top: " + topValue);
            }
            index = 0;
            for (i = 0; i < cardPool.length; i++) {
                if (cardPool[i].RankValue === topValue) {
                    index = i;
                }
            }
            topCard = cardPool[index];
            bestHand.push(topCard);
            cardPool.splice(index,1);
            bestHand.unshift(4);
        }

        function twoPair() {
            let compare = [];
            for (i = 0; i < groups.length; i++) {
                if (groups[i].Num === 2) {
                    compare.push(groups[i].Rank);
                }
            }
            if (testLog === true) {
                console.log("Compare:");
                console.log(compare);
            }
            let topValue = Math.max(...compare);
            if (testLog === true) {
                console.log("Top: " + topValue);
            }

            let highValue;
            let lowValue;
            compare = [];
            let highArray = [];
            for (i = 0; i < groups.length; i++) {
                if (groups[i].Rank === topValue && groups[i].Num === 2) {
                    highArray.push(groups[i].Value);
                }
                else if (groups[i].Num === 2) {
                    compare.push(groups[i].Rank);
                }
            }
            if (testLog === true) {
                console.log("High Array:");
                console.log(highArray);
                console.log("Compare:");
                console.log(compare);
            }
            if (highArray.length < 2) {
                highValue = highArray[0];
                if (testLog === true) {
                    console.log(compare);
                }
                topValue = Math.max(...compare);
                if (testLog === true) {
                    console.log("Top: " + topValue);
                }
                for (i = 0; i < groups.length; i++) {
                    if (groups[i].Rank === topValue && groups[i].Num === 2) {
                        console.log("Quack");
                        lowValue = groups[i].Value;
                    }
                }
            }
            else {
                highValue = highArray[0];
                lowValue = highArray[1];
            }

            if (testLog === true) {
                console.log("High: " + highValue);
                console.log(typeof highValue);
                console.log("Low: " + lowValue);
                console.log(typeof lowValue);
            }
            let pairCounter = 0;
            let altCounter = 0;
            for (i = 0; i < cardPool.length; i++) {
                if (cardPool[i].PairValue === highValue) {
                    pairCounter++;
                }
                else if (cardPool[i].PairAlt === highValue) {
                    altCounter++;
                }
            }
            if (testLog === true) {
                console.log("Regular cards: " + pairCounter);
                console.log("Alt cards: " + altCounter);
            }
            if (pairCounter === 2) {
                let x = 0;
                let y = 0;
                while (y < 2) {
                    if (cardPool[x].PairValue === highValue) {
                        y++;
                        let card = cardPool[x];
                        cardPool.splice(x,1);
                        bestHand.push(card);
                        x = -1;
                    }
                    x++;
                }
            }
            else {
                let x = 0;
                let y = 0;
                while (y < pairCounter) {
                    if (cardPool[x].PairValue === highValue) {
                        y++;
                        let card = cardPool[x];
                        cardPool.splice(x,1);
                        bestHand.push(card);
                        x = -1;
                    }
                    x++;
                }
                x = 0;
                y = 0;
                while (y < (2 - pairCounter)) {
                    if (cardPool[x].PairAlt === highValue) {
                        y++;
                        let card = cardPool[x];
                        cardPool.splice(x,1);
                        bestHand.push(card);
                        x = -1;
                    }
                    x++;
                }
            }
            pairCounter = 0;
            altCounter = 0;
            for (i = 0; i < cardPool.length; i++) {
                if (cardPool[i].PairValue === lowValue) {
                    pairCounter++;
                }
                else if (cardPool[i].PairAlt === lowValue) {
                    altCounter++;
                }
            }
            if (testLog === true) {
                console.log("Regular cards: " + pairCounter);
                console.log("Alt cards: " + altCounter);
            }
            if (pairCounter > 1) {
                let x = 0;
                let y = 0;
                while (y < 2) {
                    if (cardPool[x].PairValue === lowValue) {
                        y++;
                        let card = cardPool[x];
                        cardPool.splice(x,1);
                        bestHand.push(card);
                        x = -1;
                    }
                    x++;
                }
            }
            else {
                let x = 0;
                let y = 0;
                while (y < pairCounter) {
                    if (cardPool[x].PairValue === lowValue) {
                        y++;
                        let card = cardPool[x];
                        cardPool.splice(x,1);
                        bestHand.push(card);
                        x = -1;
                    }
                    x++;
                }
                x = 0;
                y = 0;
                if (testLog === true) {
                    console.log(bestHand);
                }
                while (y < (2 - pairCounter)) {
                    if (cardPool[x].PairAlt === lowValue) {
                        y++;
                        let card = cardPool[x];
                        cardPool.splice(x,1);
                        bestHand.push(card);
                        x = -1;
                    }
                    x++;
                }
            }
            if (testLog === true) {
                console.log("Remaining cards:");
                console.log(cardPool);
            }
            compare = [];
            for (i = 0; i < cardPool.length; i++) {
                if (cardPool[i].RankValue !== "Wild") {
                    compare.push(cardPool[i].RankValue);
                }
            }
            if (testLog === true) {
                console.log("Compare:");
                console.log(compare);
            }
            if (compare.length > 0) {
                topValue = Math.max(...compare);
            }
            else {
                topValue = "Wild";
            }
            if (testLog === true) {
                console.log("Top: " + topValue);
            }
            
            for (i = 0; i < cardPool.length; i++) {
                if (cardPool[i].RankValue === topValue) {
                    best = cardPool[i];
                }
            }
            bestHand.push(best);
            bestHand.unshift(3);
        }

        function onePair() {
            for (i = 0; i < groups.length; i++) {
                if (groups[i].Num === 2) {
                    best = groups[i];
                }
            }
            if (testLog === true) {
                console.log("Top Group:");
                console.log(best);
            }
            let mainVal = best.Value;
            let pairCounter = 0;
            let altCounter = 0;
            if (testLog === true) {
                console.log(mainVal);
                console.log(cardPool);
            }
            for (i = 0; i < cardPool.length; i++) {
                if (testLog === true) {
                    console.log("Checking: " + cardPool[i].PairValue);
                }
                if (cardPool[i].PairValue === mainVal) {
                    pairCounter++;
                }
                else if (cardPool[i].PairAlt === mainVal) {
                    altCounter++;
                }
            }
            if (testLog === true) {
                console.log("Regular cards: " + pairCounter);
                console.log("Alt cards: " + altCounter);
            }
            if (pairCounter === 2) {
                let x = 0;
                let y = 0;
                while (y < 2) {
                    if (cardPool[x].PairValue === mainVal) {
                        y++;
                        let card = cardPool[x];
                        cardPool.splice(x,1);
                        bestHand.push(card);
                        x = -1;
                    }
                    x++;
                }
            }
            else {
                let x = 0;
                let y = 0;
                while (y < pairCounter) {
                    if (cardPool[x].PairValue === mainVal) {
                        y++;
                        let card = cardPool[x];
                        cardPool.splice(x,1);
                        bestHand.push(card);
                        x = -1;
                    }
                    x++;
                }
                x = 0;
                y = 0;
                while (y < (2 - pairCounter)) {
                    if (cardPool[x].PairAlt === mainVal) {
                        y++;
                        let card = cardPool[x];
                        cardPool.splice(x,1);
                        bestHand.push(card);
                        x = -1;
                    }
                    x++;
                }
            }
            if (testLog === true) {
                console.log("Card Pool:");
                console.log(cardPool);
            }
            let compare = [];
            for (i = 0; i < cardPool.length; i++) {
                if (cardPool[i].RankValue !== "Wild") {
                    compare.push(cardPool[i].RankValue);
                }
            }
            if (testLog === true) {
                console.log("Compare:");
                console.log(compare);
            }
            let topValue;
            if (compare.length > 0) {
                topValue = Math.max(...compare);
            }
            else {
                topValue = "Wild";
            }
            if (testLog === true) {
                console.log("Top: " + topValue);
            }
            let index;
            for (i = 0; i < cardPool.length; i++) {
                if (cardPool[i].RankValue === topValue) {
                    index = i;
                }
            }
            let topCard = cardPool[index];
            bestHand.push(topCard);
            cardPool.splice(index,1);

            compare = [];
            for (i = 0; i < cardPool.length; i++) {
                if (cardPool[i].RankValue !== "Wild") {
                    compare.push(cardPool[i].RankValue);
                }
            }
            if (testLog === true) {
                console.log("Compare:");
                console.log(compare);
            }
            if (compare.length > 0) {
                topValue = Math.max(...compare);
            }
            else {
                topValue = "Wild";
            }
            if (testLog === true) {
                console.log("Top: " + topValue);
            }
            index = 0;
            for (i = 0; i < cardPool.length; i++) {
                if (cardPool[i].RankValue === topValue) {
                    index = i;
                }
            }
            topCard = cardPool[index];
            bestHand.push(topCard);
            cardPool.splice(index,1);

            compare = [];
            for (i = 0; i < cardPool.length; i++) {
                if (cardPool[i].RankValue !== "Wild") {
                    compare.push(cardPool[i].RankValue);
                }
            }
            if (testLog === true) {
                console.log("Compare:");
                console.log(compare);
            }
            if (compare.length > 0) {
                topValue = Math.max(...compare);
            }
            else {
                topValue = "Wild";
            }
            if (testLog === true) {
                console.log("Top: " + topValue);
            }
            index = 0;
            for (i = 0; i < cardPool.length; i++) {
                if (cardPool[i].RankValue === topValue) {
                    index = i;
                }
            }
            topCard = cardPool[index];
            bestHand.push(topCard);
            cardPool.splice(index,1);

            bestHand.unshift(2);
        }

        function junkHand() {
            let y = 0;
            while (y < 5) {
                let compare = [];
                for (i = 0; i < cardPool.length; i++) {
                    if (cardPool[i].RankValue !== "Wild") {
                        compare.push(cardPool[i].RankValue);
                    }
                }
                if (testLog === true) {
                    console.log("Compare:");
                    console.log(compare);
                }
                if (compare.length > 0) {
                    topValue = Math.max(...compare);
                }
                else {
                    topValue = "Wild";
                }
                if (testLog === true) {
                    console.log("Top: " + topValue);
                }
                let index = 0;
                for (i = 0; i < cardPool.length; i++) {
                    if (cardPool[i].RankValue === topValue) {
                        index = i;
                    }
                }
                let topCard = cardPool[index];
                bestHand.push(topCard);
                cardPool.splice(index,1);
                y++;
            }
            bestHand.unshift(1);
        }
        
        //Dialogue
        
        function updateDialogue() {

            for (i = 0; i < riverDeck.length - 1; i++) {
                if (riverDeck[i].Type === "extra" && extraFlag === false) {
                    extraFlag = true;
                    console.log("Added dialogue: Extra");
                    for (x = 0; x < dialogueExtra.length; x++) {
                        dialogueNew.push(dialogueExtra[i]);
                        dialogueStage1.push(dialogueExtra[i]);
                    }
                }
                if (riverDeck[i].Type === "uno" && unoFlag === false) {
                    unoFlag = true;
                    console.log("Added dialogue: Uno");
                    for (x = 0; x < dialogueUno.length; x++) {
                        dialogueNew.push(dialogueUno[i]);
                        dialogueStage1.push(dialogueUno[i]);
                    }
                }
                if (riverDeck[i].Type === "tarot" && tarotFlag === false) {
                    tarotFlag = true;
                    console.log("Added dialogue: Tarot");
                    for (x = 0; x < dialogueTarot.length; x++) {
                        dialogueNew.push(dialogueTarot[i]);
                        dialogueStage1.push(dialogueTarot[i]);
                    }
                }
                if (riverDeck[i].Type === "hanafuda" && hanafudaFlag === false) {
                    hanafudaFlag = true;
                    console.log("Added dialogue: Hanafuda");
                    for (x = 0; x < dialogueHanafuda.length; x++) {
                        dialogueNew.push(dialogueHanafuda[i]);
                        dialogueStage1.push(dialogueHanafuda[i]);
                    }
                }
            }
            for (i = 0; i < handDeck.length; i++) {
                if (handDeck[i].Type === "extra" && extraFlag === false) {
                    extraFlag = true;
                    console.log("Added dialogue: Extra");
                    for (x = 0; x < dialogueExtra.length; x++) {
                        dialogueNew.push(dialogueExtra[i]);
                        dialogueStage1.push(dialogueExtra[i]);
                    }
                }
                if (handDeck[i].Type === "uno" && unoFlag === false) {
                    unoFlag = true;
                    console.log("Added dialogue: Uno");
                    for (x = 0; x < dialogueUno.length; x++) {
                        dialogueNew.push(dialogueUno[i]);
                        dialogueStage1.push(dialogueUno[i]);
                    }
                }
                if (handDeck[i].Type === "tarot" && tarotFlag === false) {
                    tarotFlag = true;
                    console.log("Added dialogue: Tarot");
                    for (x = 0; x < dialogueTarot.length; x++) {
                        dialogueNew.push(dialogueTarot[i]);
                        dialogueStage1.push(dialogueTarot[i]);
                    }
                }
                if (handDeck[i].Type === "hanafuda" && hanafudaFlag === false) {
                    hanafudaFlag = true;
                    console.log("Added dialogue: Hanafuda");
                    for (x = 0; x < dialogueHanafuda.length; x++) {
                        dialogueNew.push(dialogueHanafuda[i]);
                        dialogueStage1.push(dialogueHanafuda[i]);
                    }
                }
            }
        }
        
        //Local Storage
        
        function clearStorage() {
            localStorage.clear();
            window.location.reload();
        }
        
        function saveValues() {
            localStorage.setItem("money", playerMoney);
            localStorage.setItem("turns", turnCounter);
        }

        function loadValues() {
            console.log("Money Data: " + localStorage.getItem("money"));
            if(localStorage.getItem("money")) {
                console.log("Money Data loaded from storage");
                playerMoney = Number(localStorage.getItem("money"));
            }
            console.log("Turn Data: " + localStorage.getItem("turns"));
            if (localStorage.getItem("turns")) {
                console.log("Turn Data loaded from storage");
                turnCounter = Number(localStorage.getItem("turns"));
            }
        }
        
        //Prints all card objects into console
        //let comb = allDecks();
        //console.log(JSON.stringify(comb));

    </script>
    <style>  
        body {
            background-color:#464646;
            margin: 0 auto 0;
        }
        header {
            color: white;
            background-color: #202020;
            padding: 5px;
            position: sticky;
            top: 0;
        }
        header h1 {
            margin: 0 10px 0;
            font-family: Helvetica, Arial, sans-serif;
            font-weight: bold;
        }
        main {
            max-width: 100%;
            width: 600px;
            margin: 0 auto 0;
            box-sizing: border-box;
        }
        .dialogue {
            background-color: black;
            color: white;
            min-height: 60px;
            min-width: 600px;
            overflow:auto;
            padding: 5px;
            font-family: 'Courier New', Courier, monospace;
            box-sizing: border-box;
        }
        .dialogue_icon_container {
            float: left;
            margin: 10px 15px;
        }
        .dialogue_icon {
            height: 50px;
            width: 50px;
            background-image: url("https://twemoji.maxcdn.com/2/svg/1f575.svg");
        }
        .dialogue_text_container {
            float: left;
            overflow:auto;
        }
        .dialogue_text {
            font-weight: bold;
        }
        .card_container {
            margin: 0 auto;
            box-sizing: border-box;
            background-color: #3ca05c;
            min-width: 600px;
        }
        .win_container {
            margin: 0 auto;
            box-sizing: border-box;
            background-color: black;
            min-width: 600px;
        }
        .river_space {
            max-width: 308px;
            overflow:auto;
            min-height: 84px;
            margin: 0 auto;
            box-sizing: border-box;
        }
        .card_space {
            max-width: 150px;
            overflow:auto;
            min-height: 84px;
            margin: 0 auto;
            box-sizing: border-box;
        }
        .buttons {
            background-color: gray;
            padding: 5px;
            min-width: 600px;
            box-sizing: border-box;
        }
        .buttons button {
            height: 30px;
        }
        .holdfirst_button {
            margin: 0 0 0 15px;
        }
        .hold_button {
            margin: 0 0 0 5px;
        }
        .holddeal_button {
            margin: 0 0 0 10px;
            width: 100px;
        }
        .clear_container {
            overflow:auto;
        }
        .clear_button {
            float: right;
            margin: 5px;
        }
        .turn_counter {
            color: white;
            font-weight: bold;
            margin: 0 20px;
        }
        .inventory {
            background-color: darkslategray;
            min-width: 600px;
            box-sizing: border-box;
            padding: 5px;
            font-family: Helvetica, Arial, sans-serif;
        }
        .money {
            font-weight: bold;
            color:chartreuse;
        }
        .bet {
            font-weight: bold;
            color:white;
        }
        .pot {
            font-weight: bold;
            color: gold;
        }
        .report {
            background-color: black;
            color: white;
            min-height: 90px;
            padding: 5px;
            font-family: 'Courier New', Courier, monospace;
            font-weight: bold;
            min-width: 600px;
            box-sizing: border-box;
        }
        .report_Red {
            color: red;
        }
        .report_Black {
            color: white;
        }
        .report_Blue {
            color: blue;
        }
        .report_Green {
            color: chartreuse;;
        }
        .report_Yellow {
            color: yellow;
        }
        .report_Wild {
            color: white;
        }
        .report_Tarot {
            color: bisque;
        }
        .report_Hanafuda {
            color: #eeeadc;
        }
        .card {
            font-family:Arial, Helvetica, sans-serif;
            font-size: 16px;
            float: left;
            color: black;
            background-color: white;
            border: solid 1px #aaa;
            border-radius: 5px;
            width: 45px;
            height: 68px;
            padding: 2px;
            margin: 5px;
        }
        .top_num{
            line-height: 20px;
        }
        .bottom_num{
            text-align: right;
            line-height: 20px;
        }
        .icon {
            font-size: 1.5em;
            text-align: center;
            line-height: 28px;
            font-family:'Times New Roman', Times, serif;
        }
        .red {
            color: crimson;
        }
        .top_joker{
            font-size: 0.7em;
            line-height: 10px;
        }
        .bottom_joker{
            text-align: right;
            font-size: 0.7em;
            line-height: 10px;
        }
        .joker_icon {
            font-size: 1.5em;
            text-align: center;
            line-height: 48px;
            font-family:'Times New Roman', Times, serif;
        }
        .top_rules{
            overflow:auto;
            font-weight: bold;
            text-align: center;
            font-size: 0.42em;
            line-height: 10px;
        }
        .bottom_rules{
            font-weight: bold;
            font-size: 1.2em;
            text-align: center;
            line-height: 30px;
        }
        .uno{
            color: white;
        }
        .top_uno{
            font-size: 0.8em;
            line-height: 16px;
            margin-left: 2px;
        }
        .bottom_uno{
            text-align: right;
            font-size: 0.8em;
            line-height: 16px;
            margin-right: 2px;
        }
        .uno_icon{
            font-size: 1.5em;
            text-align: center;
            line-height: 38px;
            font-family:Arial, Helvetica, sans-serif;
        }
        .wild_icon{
            font-size: 0.8em;
            text-align: center;
            line-height: 19px;
        }
        .skip_icon{
            font-size: 1.5em;
            text-align: center;
            line-height: 38px;
            font-family: 'Segoe UI Symbol';
        }
        .top_skip{
            font-size: 0.8em;
            line-height: 16px;
            font-family: 'Segoe UI Symbol';
            margin-left: 2px;
        }
        .bottom_skip{
            text-align: right;
            font-size: 0.8em;
            line-height: 16px;
            font-family: 'Segoe UI Symbol';
            margin-right: 2px;
        }
        .uno_red{
            background-color: red;
            box-shadow:inset 0px 0px 0px 2px white;
        }
        .uno_blue{
            background-color: blue;
            box-shadow:inset 0px 0px 0px 2px white;
        }
        .uno_yellow{
            background-color: gold;
            box-shadow:inset 0px 0px 0px 2px white;
        }
        .uno_green{
            background-color: green;
            box-shadow:inset 0px 0px 0px 2px white;
        }
        .uno_wild{
            background-color: black;
            box-shadow:inset 0px 0px 0px 2px white;
        }
        .tarot{
            background-color: bisque;
            box-shadow:inset 0px 0px 0px 2px saddlebrown;
        }
        .top_tarot{
            overflow:auto;
            font-weight: bold;
            text-align: center;
            font-size: 0.48em;
            height: 30px;
        }
        .tarot_icon{
            font-size: 1.5em;
            text-align: center;
            line-height: 36px;
        }
        .hanafuda{
            background-color: #eeeadc;
            box-shadow:inset 0px 0px 0px 2px black;
            border: solid 1px black;
        }
        .lightning_hanafuda{
            background-color: red;
            box-shadow:inset 0px 0px 0px 2px black;
            border: solid 1px black;
        }
        .hana_icon{
            font-size: 1em;
            text-align: center;
            line-height: 22px;
        }
        .hana_empty{
            height: 22px;
        }
        .hidden{
            background-color: crimson;
            box-shadow:inset 0px 0px 0px 2px white;
        }
        .card_back {
            font-size: 3em;
            text-align: center;
            line-height: 66px;
            color: darkred;
        }
        .hold {
            outline: blue solid 5px;
        }
        .holdb {
            background-color: blue;
            color: white;
        }
        footer {
            position:fixed;
            bottom:0;
            width:94%;
            height:60px;
            text-align: end;
            color: #636363;
            z-index: -1;
            font-family: Helvetica, Arial, sans-serif;
        }
        @media screen and (max-width: 600px){
        main {
            width: 100%;
            margin: 0;
        }
        .dialogue {
            min-width: 100%;
        }
        .card_container {
            min-width: 100%;
        }
        .win_container {
            min-width: 100%;
        }
        .buttons {
            min-width: 100%;
        }
        .inventory {
            min-width: 100%;
        }
        .report {
            min-width: 100%;
        }
        footer {
            position:static;
        }
        }
    </style>
</head>
<body>
    <header>
        <h1>TotallyNormalPoker</h1>
    </header>
    <main>
        <div class="clear_container"><button id="clear_button" class="clear_button" type="button" onclick="clearStorage();">Clear Saved Data</button></div>
        <div class="dialogue">
            <div class="dialogue_icon_container"><div class="dialogue_icon"></div></div><div class="dialogue_text_container"></div><div id="dialogue_text" class="dialogue_text"></div></div>
        </div>
        <div id="opp_bet_space" class="inventory bet"></div>
        <div id="buttons1" class="buttons"><button id="newtexhand_button" type="button" onclick="drawTexRound();">Texas Hold 'em ($500)</button><button id="newfivehand_button" type="button" onclick="drawFiveRound();">5 Card Draw ($500)</button><span id="turn_counter" class="turn_counter"></span></div>
        <div class="card_container"><div id="opp_space" class="card_space"></div></div>
        <div><div id="main_space" class="card_space" hidden></div></div>
        <div class="card_container"><div id="river_space" class="river_space"></div></div>
        <div class="card_container"><div id="hand_space" class="card_space"></div></div>
        <div id="inventory_space" class="inventory money"></div>
        <div id="bet_space" class="inventory bet"></div>
        <div id="pot_space" class="inventory pot"></div>
        <div id="buttons2" class="buttons">
            <button id="betup_button" type="button" onclick="increaseBet();" style="visibility: hidden;">Bet +$500</button>
            <button id="betdown_button" type="button" onclick="decreaseBet();" style="visibility: hidden;">Bet -$500</button>
            <button id="makebet_button" type="button" onclick="checkRaise();" style="visibility: hidden;">Check</button>
            <button id="fold_button" type="button" onclick="foldHand();" style="visibility: hidden;">Fold</button>
        </div>
        <div id="buttons3" class="buttons" style="display: none">
            <button class="holdfirst_button" id="hold1_button" type="button" onclick="holdCard1();">Hold</button>
            <button class="hold_button" id="hold2_button" type="button" onclick="holdCard2();">Hold</button>
            <button class="hold_button" id="hold3_button" type="button" onclick="holdCard3();">Hold</button>
            <button class="hold_button" id="hold4_button" type="button" onclick="holdCard4();">Hold</button>
            <button class="hold_button" id="hold5_button" type="button" onclick="holdCard5();">Hold</button>
            <button class="holddeal_button" id="holddeal_button" type="button" onclick="holdDealStart();">Deal</button>
        </div>
        <div id="report_space" class="report"></div>
        <div id="win_cards1" class="win_container" style="visibility: hidden;"><div id="win_space" class="river_space"></div></div>
        <div id="win_cards2" class="win_container" style="visibility: hidden;"><div id="tie_space" class="river_space"></div></div>
    </main>
    <footer>
        <p>© Callum West 2022</p> 
    </footer>
    <script>
        //Internet Explorer detection
        if (window.document.documentMode) {
            console.log("Incompatible browser detected");
            alert("Sorry! This browser is not supported.");
        }
        else {
            console.log("Compatible browser detected");
        }

        //Constants for deck and text rendering in document

        const oppShowSpace = document.getElementById("opp_space");
        const mainSpace = document.getElementById("main_space");
        const handSpace = document.getElementById("hand_space");
        const riverSpace = document.getElementById("river_space");
        const winSpace = document.getElementById("win_space");
        const tieSpace = document.getElementById("tie_space");
        const reportSpace = document.getElementById("report_space");

        const dialogueSpace = document.getElementById("dialogue_text");

        //Initial dialogue rendering

        dialogueSpace.innerText = dialogueStart[randDialoge];

        //Load saved values

        loadValues();

        //Render any updated values from load

        renderAll();

        //###############################################
        //Auto-compare hands for testing and bug-fixing purposes

        //###Enable these for test decks###
        //riverDeck = testRiver;
        //handDeck = testPlayer;
        //oppDeck = testOpp;

        //###Enable this for randomly generated deck###
        /*
        mainDeck = combineDecks();
        shuffleDeck();
        for (i = 0; i < 2; i++) {
            let card = mainDeck.shift();
            oppDeck.push(card);
        }
        for (i = 0; i < 2; i++) {
            let card = mainDeck.shift();
            handDeck.push(card);
        }
        for (i = 0; i < 5; i++) {
            let card = mainDeck.shift();
            riverDeck.push(card);
        }
        */

        //###Enable this for auto-compare hands###
        //compareHands();

        //###############################################

        //Displays "broke" dialogue when player is out of money
        
        if (playerMoney === 0) {
            document.getElementById("newtexhand_button").style.visibility = "hidden";
            document.getElementById("newfivehand_button").style.visibility = "hidden";

            randDialoge = Math.floor(Math.random() * (dialogueBroke.length));
            dialogueSpace.innerText = dialogueBroke[randDialoge];
        }

        //Displays initial report text

        //reportSpace.innerHTML = `Pick a Poker type to start playing`;

    </script>
</body>
</html>
